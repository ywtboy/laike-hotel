(function(e){function t(t){for(var o,r,u=t[0],c=t[1],s=t[2],d=0,l=[];d<u.length;d++)r=u[d],a[r]&&l.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);f&&f(t);while(l.length)l.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},a={app:0},i=[];function u(e){return c.p+"js/"+({admin:"admin",guestList:"guestList",guestPage:"guestPage",hotelPage:"hotelPage",hotelSetting:"hotelSetting",loginPage:"loginPage",notFound:"notFound","orderPage~roomState":"orderPage~roomState",orderPage:"orderPage",roomState:"roomState",reportPage:"reportPage",settingPage:"settingPage",staffPage:"staffPage",systemSetting:"systemSetting",vip:"vip",allotRoom:"allotRoom",orderReserve:"orderReserve",peopleInfoInput:"peopleInfoInput"}[e]||e)+"-legacy."+{admin:"0bd10f69",guestList:"02228cce",guestPage:"f5682c02",hotelPage:"9f0a0ff5",hotelSetting:"46c79e63",loginPage:"4fd41912",notFound:"f0dc21d1","orderPage~roomState":"3f7daa64",orderPage:"9a220c78",roomState:"97eee924",reportPage:"6c611da0",settingPage:"5d65ad56",staffPage:"76df31b9",systemSetting:"e2dc4e39",vip:"ae6474e8",allotRoom:"860de82c",orderReserve:"0bb7eb18",peopleInfoInput:"a84f5d3d"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={admin:1,hotelPage:1,loginPage:1,"orderPage~roomState":1,orderPage:1,roomState:1,allotRoom:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var o="css/"+({admin:"admin",guestList:"guestList",guestPage:"guestPage",hotelPage:"hotelPage",hotelSetting:"hotelSetting",loginPage:"loginPage",notFound:"notFound","orderPage~roomState":"orderPage~roomState",orderPage:"orderPage",roomState:"roomState",reportPage:"reportPage",settingPage:"settingPage",staffPage:"staffPage",systemSetting:"systemSetting",vip:"vip",allotRoom:"allotRoom",orderReserve:"orderReserve",peopleInfoInput:"peopleInfoInput"}[e]||e)+"."+{admin:"8671d581",guestList:"31d6cfe0",guestPage:"31d6cfe0",hotelPage:"7c4648c8",hotelSetting:"31d6cfe0",loginPage:"a63d3936",notFound:"31d6cfe0","orderPage~roomState":"dbf5c06d",orderPage:"e6a28afa",roomState:"3b30ebc3",reportPage:"31d6cfe0",settingPage:"31d6cfe0",staffPage:"31d6cfe0",systemSetting:"31d6cfe0",vip:"31d6cfe0",allotRoom:"6e780067",orderReserve:"31d6cfe0",peopleInfoInput:"31d6cfe0"}[e]+".css",a=c.p+o,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===o||d===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){s=l[u],d=s.getAttribute("data-href");if(d===o||d===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.request=o,delete r[e],f.parentNode.removeChild(f),n(i)},f.href=a;var g=document.getElementsByTagName("head")[0];g.appendChild(f)}).then(function(){r[e]=0}));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise(function(t,n){o=a[e]=[t,n]});t.push(o[2]=i);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=u(e),s=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");i.type=o,i.request=r,n[1](i)}a[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var f=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),r=n.n(o);r.a},"420d":function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return d});var o=n("7f43"),r=n.n(o),a="/api/roomType",i="/api/roomState/",u=function(){return r.a.get(a)},c=function(e,t){return r.a.request({url:a,data:e,method:t})},s=function(){return r.a.get(i)},d=function(e,t){return r.a.patch(i+e+"?roomState="+t)}},4360:function(e,t,n){"use strict";n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=n("52c1"),a=n("7ded"),i=n("e069"),u={state:{currUser:{},isLogin:!0,isFirst:0,currHotel:{}},getters:{},mutations:{login:function(e,t){e.isLogin=!0,e.isFirst+=1,e.currUser=t,e.currHotel=t.currHotel,console.log("state.isFirst:",e.isFirst)},logout:function(e){e.isLogin=!1,e.isFirst=0,e.currUser={},e.currHotel={}},setIsLogin:function(e){e.isLogin=!1}},actions:{login:function(e,t){Object(a["c"])(t).then(function(t){if(0===t.data.code){var n=t.data.data;i["Message"].success("登录成功"),e.commit("login",n)}else i["Message"].error(t.data.code+"："+t.data.msg)})},logout:function(e){Object(a["d"])().then(function(t){0===t.data.code?(e.commit("logout"),i["Message"].success("退出系统成功")):i["Message"].error(t.data.code+"："+t.data.msg)})},currUser:function(e){Object(a["b"])().then(function(t){if(0===t.data.code){var n=t.data.data;e.commit("login",n)}else i["Message"].error(t.data.code+"："+t.data.msg)})}}},c=u,s=n("acb0"),d={state:{dics:[],inout:[],pay_method:[],channel:[]},getters:{codeToText:function(e){return function(t){return t?e.pay_method.filter(function(e){return t===e.dicCommonCode})[0].dicCommonName:""}},getDicType:function(e){return function(t){return e.dics.filter(function(e){return t===e.dicType})}}},mutations:{inout:function(e,t){e.inout=t},pay_method:function(e,t){e.pay_method=t},channel:function(e,t){e.channel=t},dics:function(e,t){e.dics=t}},actions:{loadDic:function(e,t){Object(s["c"])(t).then(function(n){if(0===n.data.code){var o=n.data.data;e.commit(t,o)}else i["Message"].error(n.data.code+"："+n.data.msg)})},loadAllDic:function(e){Object(s["c"])(null).then(function(t){if(0===t.data.code){var n=t.data.data;e.commit("dics",n)}else i["Message"].error(t.data.code+"："+t.data.msg)})}}},l=d,f=n("420d"),g={state:{roomStates:null,roomTypes:null},getters:{getRoomsByType:function(e){return function(t){return null==t?e.roomStates:e.roomStates.filter(function(e){return t===e.roomTypeId&&"vacant"===e.roomState})}}},mutations:{setRoomStates:function(e,t){e.roomStates=t},setRoomTypes:function(e,t){e.roomTypes=t}},actions:{loadRoomStates:function(e){Object(f["b"])().then(function(t){if(0===t.data.code){var n=t.data.data;e.commit("setRoomStates",n)}else i["Message"].error(t.data.code+"："+t.data.msg)})},loadRoomTypes:function(e){Object(f["c"])().then(function(t){if(0===t.data.code){var n=t.data.data;e.commit("setRoomTypes",n)}else i["Message"].error(t.data.code+"："+t.data.msg)})}}},p=g,m={state:{appHeight:window.innerHeight},getters:{},mutations:{setAppHeight:function(e,t){e.appHeight=t}},actions:{}},h=m;o["default"].use(r["a"]);var b=!1,v=new r["a"].Store({modules:{user:c,dic:l,room:p,webSet:h},strict:b});t["a"]=v},"56d7":function(e,t,n){"use strict";n.r(t);n("3b2b"),n("a481"),n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i=n("cebc"),u=(n("4917"),n("52c1")),c={name:"app",data:function(){return{appHeight:window.innerHeight}},components:{},beforeCreate:function(){navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(window.location="/m/")},mounted:function(){var e=this;window.onresize=function(){e.appHeight=window.innerHeight,e.setAppHeight(window.innerHeight)}},methods:Object(i["a"])({},Object(u["d"])({setAppHeight:"setAppHeight"}))},s=c,d=(n("034f"),n("2877")),l=Object(d["a"])(s,r,a,!1,null,null,null),f=l.exports,g=n("e069"),p=n.n(g);n("dcad");o["default"].use(p.a);var m=n("1e6f"),h=[{path:"/admin",component:function(){return n.e("admin").then(n.bind(null,"d824"))}},{path:"/login/:url",component:function(){return n.e("loginPage").then(n.bind(null,"8344"))},props:!0},{path:"/",component:function(){return n.e("hotelPage").then(n.bind(null,"ab83"))},meta:{title:"来客酒店云管家"},children:[{path:"roomState",component:function(){return Promise.all([n.e("orderPage~roomState"),n.e("roomState")]).then(n.bind(null,"7bad"))},meta:{title:"来客酒店云管家--房态"}},{path:"order",component:function(){return Promise.all([n.e("orderPage~roomState"),n.e("orderPage")]).then(n.bind(null,"1938"))}},{path:"guest",component:function(){return n.e("guestPage").then(n.bind(null,"b8f5"))},children:[{path:"guestList",component:function(){return n.e("guestList").then(n.bind(null,"f753"))}},{path:"vip",component:function(){return n.e("vip").then(n.bind(null,"1765"))}}]},{path:"report",component:function(){return n.e("reportPage").then(n.bind(null,"c33c"))}},{path:"setting",component:function(){return n.e("settingPage").then(n.bind(null,"aa28"))},children:[{path:"hotel",component:function(){return n.e("hotelSetting").then(n.bind(null,"1571"))}},{path:"system",component:function(){return n.e("systemSetting").then(n.bind(null,"2d8d"))}},{path:"Staff",component:function(){return n.e("staffPage").then(n.bind(null,"ce06"))}}]}]},{path:"*",component:function(){return n.e("notFound").then(n.bind(null,"7b00"))}}];o["default"].use(m["a"]);var b=new m["a"]({routes:h});b.beforeEach(function(e,t,n){e.meta.title&&(document.title=e.meta.title),n()});var v=b,P=n("4360"),y=n("5834");o["default"].prototype.$Message.config({duration:2.5}),o["default"].config.productionTip=!1,o["default"].prototype.$axios=y["a"],new o["default"]({router:v,store:P["a"],render:function(e){return e(f)}}).$mount("#app"),Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},5834:function(e,t,n){"use strict";var o=n("795b"),r=n.n(o),a=n("5d73"),i=n.n(a),u=n("a4bb"),c=n.n(u),s=n("cebc"),d=(n("cadf"),n("551c"),n("f751"),n("097d"),n("7f43")),l=n.n(d),f=n("4360"),g=n("e069");l.a.interceptors.request.use(function(e){e.params=Object(s["a"])({},e.params,{_t:(new Date).getTime()});var t=e.url;if("get"===e.method&&e.params){t+="?";var n=c()(e.params),o=!0,r=!1,a=void 0;try{for(var u,d=i()(n);!(o=(u=d.next()).done);o=!0){var l=u.value;null!==e.params[l]&&""!==e.params[l]&&(t+="".concat(l,"=").concat(encodeURIComponent(e.params[l]),"&"))}}catch(f){r=!0,a=f}finally{try{o||null==d.return||d.return()}finally{if(r)throw a}}t=t.substring(0,t.length-1),e.params={}}return e.url=t,e},function(e){return r.a.reject(e)}),l.a.interceptors.response.use(function(e){return e},function(e){var t=e.response.status;if(200!=t)switch(t){case 400:console.log("请求错误400"),g["Message"].info("请求错误！");break;case 401:f["a"].commit("setIsLogin"),g["Message"].info("未登录或登录超时，请登录！");break;case 402:g["Message"].info("您的系统已到期，请联系续期");break;case 403:console.log("无权限！"),g["Message"].error("没有权限");break;case 404:console.log("资源不存在"),g["Message"].error("资源不存在！");break;case 500:console.log("服务器内部错误！"),g["Message"].error("服务器内部错误！");break;default:console.log("网络错误 ： "+t),g["Message"].error("网络错误 ： "+t)}return r.a.reject(e)}),t["a"]=l.a},"64a9":function(e,t,n){},"7ded":function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return d});var o=n("7f43"),r=n.n(o),a="/api",i=function(e){return r.a.post(a+"/register",e)},u=function(e){return r.a.post(a+"/login",e)},c=function(){return r.a.get(a+"/logout")},s=function(e){return r.a.post(a+"/user/pwd",e)},d=function(){return r.a.get(a+"/currUser")}},acb0:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return c});n("cadf"),n("551c"),n("f751"),n("097d");var o=n("5834"),r=function(e,t){return o["a"].request({url:"/api/dicType",data:e,method:t})},a=function(e){return o["a"].get("/api/dicType",{params:{dicTypeClass:e}})},i=function(e){return o["a"].get("/api/dicCommon",{params:e})},u=function(e,t){return o["a"].request({url:"/api/dicCommon",data:e,method:t})},c=function(e){return o["a"].get("/api/dicCommon/"+e)}}});
//# sourceMappingURL=app-legacy.06345f1d.js.map