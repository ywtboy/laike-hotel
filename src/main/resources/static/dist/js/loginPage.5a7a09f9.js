(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loginPage"],{6302:function(e,t,r){"use strict";var o=r("ce4d"),s=r.n(o);s.a},8344:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"myLogin"},[e.isLogin?r("Alert",{staticStyle:{top:"0px"},attrs:{banner:""}},[r("router-link",{attrs:{to:e.url}},[e._v("若登录成功没有跳转，请点击这里")])],1):e._e(),r("center",[e.loging?r("Card",{staticClass:"login",attrs:{"dis-hover":""}},[r("p",{attrs:{slot:"title"},slot:"title"},[e._v("手机号登录")]),r("Form",{ref:"loginForm",attrs:{model:e.loginInfo,rules:e.loginRule}},[r("FormItem",{attrs:{prop:"mobileNum"}},[r("Input",{ref:"mobileInput",staticStyle:{height:"40px"},attrs:{size:"large",prefix:"md-phone-portrait",placeholder:"请输入手机号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.focus("pwdInput")}},model:{value:e.loginInfo.mobileNum,callback:function(t){e.$set(e.loginInfo,"mobileNum",t)},expression:"loginInfo.mobileNum"}})],1),r("FormItem",{attrs:{prop:"userPwd"}},[r("Input",{ref:"pwdInput",attrs:{size:"large",type:"password",prefix:"md-lock",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.loginInfo.userPwd,callback:function(t){e.$set(e.loginInfo,"userPwd",t)},expression:"loginInfo.userPwd"}})],1),r("FormItem",[r("Button",{attrs:{size:"large",type:"primary",long:""},on:{click:e.submit}},[e._v("登录")])],1)],1),r("div",[r("Tooltip",{attrs:{content:"员工账号请在系统设置中添加",placement:"top"}},[r("a",{on:{click:function(t){e.loging=!1}}},[e._v("酒店拥有者注册")])])],1)],1):r("Card",{staticClass:"login",attrs:{"dis-hover":""}},[r("p",{attrs:{slot:"title"},slot:"title"},[e._v("注册")]),r("Form",{ref:"registerForm",attrs:{model:e.registerInfo,rules:e.registerRule}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isUserInfo,expression:"isUserInfo"}]},[r("FormItem",{attrs:{prop:"realName"}},[r("Input",{staticStyle:{height:"40px"},attrs:{width:"40",size:"large",prefix:"ios-contact",placeholder:"请输入您的真实姓名"},model:{value:e.registerInfo.realName,callback:function(t){e.$set(e.registerInfo,"realName",t)},expression:"registerInfo.realName"}})],1),r("FormItem",{attrs:{prop:"mobileNum"}},[r("Input",{staticStyle:{height:"40px"},attrs:{width:"40",size:"large",prefix:"md-phone-portrait",placeholder:"请输入手机号"},model:{value:e.registerInfo.mobileNum,callback:function(t){e.$set(e.registerInfo,"mobileNum",t)},expression:"registerInfo.mobileNum"}})],1),r("FormItem",{attrs:{prop:"userPwd"}},[r("Input",{attrs:{size:"large",type:"password",prefix:"md-lock",placeholder:"请输入密码"},model:{value:e.registerInfo.userPwd,callback:function(t){e.$set(e.registerInfo,"userPwd",t)},expression:"registerInfo.userPwd"}})],1),r("FormItem",{attrs:{prop:"pwd"}},[r("Input",{attrs:{size:"large",type:"password",prefix:"md-lock",placeholder:"请再次输入密码"},model:{value:e.registerInfo.pwd,callback:function(t){e.$set(e.registerInfo,"pwd",t)},expression:"registerInfo.pwd"}})],1),r("FormItem",[r("Button",{attrs:{size:"large",type:"primary",long:""},on:{click:e.regNext}},[e._v("下一步")])],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isUserInfo,expression:"!isUserInfo"}]},[r("FormItem",{attrs:{prop:"hotelName"}},[r("Input",{staticStyle:{height:"40px"},attrs:{width:"40",size:"large",prefix:"md-home",placeholder:"请输入酒店/宾馆名称"},model:{value:e.registerInfo.hotelName,callback:function(t){e.$set(e.registerInfo,"hotelName",t)},expression:"registerInfo.hotelName"}})],1),r("FormItem",{attrs:{prop:"currRegion"}},[r("Cascader",{attrs:{data:e.regionInfo,placeholder:"请选择省/市/县（区）"},model:{value:e.currRegion,callback:function(t){e.currRegion=t},expression:"currRegion"}})],1),r("FormItem",{attrs:{prop:"address"}},[r("Input",{staticStyle:{height:"40px"},attrs:{width:"40",size:"large",prefix:"ios-navigate",placeholder:"请输入具体地址"},model:{value:e.registerInfo.address,callback:function(t){e.$set(e.registerInfo,"address",t)},expression:"registerInfo.address"}})],1),r("FormItem",{attrs:{prop:"hotline"}},[r("Input",{staticStyle:{height:"40px"},attrs:{width:"40",size:"large",prefix:"md-call",placeholder:"请输入热线"},model:{value:e.registerInfo.hotline,callback:function(t){e.$set(e.registerInfo,"hotline",t)},expression:"registerInfo.hotline"}})],1),r("FormItem",[r("Button",{attrs:{size:"large",type:"primary",long:""},on:{click:e.registerSubmit}},[e._v("完成")])],1)],1)]),r("div",[r("Row",[r("Col",{staticStyle:{float:"left"},attrs:{span:10}},[r("a",{directives:[{name:"show",rawName:"v-show",value:!e.isUserInfo,expression:"!isUserInfo"}],on:{click:function(t){e.isUserInfo=!0}}},[e._v("返回上一步")])]),r("Col",{attrs:{span:2}},[e._v(" ")]),r("Col",{staticStyle:{float:"right"},attrs:{span:10}},[r("a",{on:{click:function(t){e.loging=!0}}},[e._v("已有账号，去登录")])])],1)],1)],1)],1)],1)},s=[],i=r("be94"),n=r("52c1"),l=r("7ded"),a={name:"LoginPage",props:{url:String},data(){return{loging:!0,isUserInfo:!0,loginInfo:{mobileNum:null,userPwd:null},loginRule:{mobileNum:[{required:!0,message:"请输入手机号"}],userPwd:[{required:!0,message:"请输入密码"}]},registerInfo:{realName:"",mobileNum:"",userPwd:"",pwd:"",hotelName:"",countryCode:"cn",provinceCode:"",cityCode:"",districtCode:"",address:"",hotline:""},registerRule:{realName:[{required:!0,message:"请输入您的姓名"}],mobileNum:[{required:!0,message:"请输入手机号"}],userPwd:[{required:!0,message:"请输入密码"}],pwd:[{required:!0,message:"请再次输入密码"}],hotelName:[{required:!0,message:"请输入酒店/宾馆名称"}],address:[{required:!0,message:"请输入具体地址"}],hotline:[{required:!0,message:"请输入热线电话"}]},currRegion:[],regionInfo:[{value:"62",label:"甘肃",children:[{value:"08",label:"平凉",children:[{value:"22",label:"灵台"}]}]}]}},computed:Object(i["a"])({},Object(n["e"])({isLogin:e=>e.user.isLogin})),watch:{isLogin(e){e&&(console.log("aaa"),this.$router.push(this.url),this.$Message.success("登录成功！"))}},mounted(){console.log(this.isLogin),this.focus("mobileInput")},methods:Object(i["a"])({submit(){this.$refs.loginForm.validate(e=>{e&&this.login(this.loginInfo)})},regNext(){this.isUserInfo=!1},registerSubmit(){console.log(" 123",this.registerInfo),this.$refs.registerForm.validate(e=>{if(console.log(e),e){if(console.log(e),this.registerInfo.provinceCode=this.currRegion[0],console.log("1"),this.registerInfo.cityCode=this.currRegion[1],console.log("1"),this.registerInfo.districtCode=this.currRegion[2],console.log("1"),console.log(this.registerInfo),this.registerInfo.userPwd!==this.registerInfo.pwd)return void this.$Message.error("两次密码不一致");Object(l["e"])(this.registerInfo).then(e=>{0===e.data.code?(this.$Message.success("注册成功，请登录"),this.loging=!0):this.$Message.error(e.data.code+"："+e.data.msg)})}})}},Object(n["b"])({login:"login"}),{focus(e){this.$nextTick(()=>this.$refs[e].focus())}})},c=a,u=(r("6302"),r("2877")),g=Object(u["a"])(c,o,s,!1,null,null,null);t["default"]=g.exports},ce4d:function(e,t,r){}}]);
//# sourceMappingURL=loginPage.5a7a09f9.js.map