{"version":3,"sources":["webpack:///./src/components/hotel/order/Order.vue?3bed","webpack:///./src/components/hotel/order/data/orderData.js","webpack:///./src/util/queryUtils.js","webpack:///src/components/hotel/order/Order.vue","webpack:///./src/components/hotel/order/Order.vue?3db5","webpack:///./src/components/hotel/order/Order.vue?9508","webpack:///./src/components/hotel/order/Order.vue?5c3f"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","height","conHeight","attrs","theme","active-name","width","title","name","nativeOn","click","$event","queryClassified","_v","staticClass","span","ref","model","query","inline","label","label-width","prop","staticStyle","type","clearable","placement","placeholder","options","options1","on","on-change","setEndTime","value","callback","$$v","$set","expression","_e","page","getOrderList","handleReset","stripe","border","size","columns","orderCol","data","orders","on-row-dblclick","handleColDbClick","scopedSlots","_u","key","fn","row","_s","_f","orderStateCode","_l","item","index","padding","padding-right","guestName","roomName","roomTypeName","orderTypeCode","roomPrice","orderRoomStateCode","realInTime","estimateOutTime","realOutTime","estimateInTime","allottedNum","reserveNum","roomTypePrice","viewOrder","orderNo","openIs","total","show-total","prev-text","next-text","current","page-size","limit","page-size-opts","pageSizeOpts","show-sizer","update:current","on-page-size-change","setPageSize","open-is","view-order-no","viewOrderClose","staticRenderFns","orderData","align","slot","orderRoomCol","Date","prototype","Format","fmt","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","length","queryUtils","getBusinessDate","date","businessDayEndHour","newDate","Ordervue_type_script_lang_js_","components","ViewOrder","filters","[object Object]","val","Object","code2Text","startTime","endTime","ss","orderRoomQuery.orderRoomStateCode","orderRoomQuery.estimateOutTimeStart","orderRoomQuery.estimateOutTimeEnd","orderRoomQuery.estimateInTimeStart","orderRoomQuery.estimateInTimeEnd","queryType","sortBy","orderBy","shortcuts","text","toLocaleString","setDate","isShowDate","computed","objectSpread","appHeight","vuex_esm","state","webSet","channel","dic","$nextTick","methods","assign","$data","$options","order","then","res","code","count","$Message","error","msg","$refs","resetFields","order_Ordervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Order_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Order_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/orderPage.fd6798d7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',{style:({height: _vm.conHeight+'px'})},[_c('Sider',[_c('Menu',{style:({height: '100%'}),attrs:{\"theme\":\"light\",\"active-name\":\"all\",\"width\":\"auto\"}},[_c('MenuGroup',{attrs:{\"title\":\"订单查询\"}},[_c('MenuItem',{attrs:{\"name\":\"all\"},nativeOn:{\"click\":function($event){return _vm.queryClassified('all')}}},[_vm._v(\"\\n        全部订单\\n        \")]),_c('MenuItem',{attrs:{\"name\":\"live\"},nativeOn:{\"click\":function($event){return _vm.queryClassified('live')}}},[_vm._v(\"\\n        当前正住\\n        \")]),_c('MenuItem',{attrs:{\"name\":\"out\"},nativeOn:{\"click\":function($event){return _vm.queryClassified('out')}}},[_vm._v(\"\\n        今日预退\\n        \")]),_c('MenuItem',{attrs:{\"name\":\"today_come\"},nativeOn:{\"click\":function($event){return _vm.queryClassified('today_come')}}},[_vm._v(\"\\n        今日预到\\n        \")]),_c('MenuItem',{attrs:{\"name\":\"wait_allot\"},nativeOn:{\"click\":function($event){return _vm.queryClassified('wait_allot')}}},[_vm._v(\"\\n        等待分房\\n        \")]),_c('MenuItem',{attrs:{\"name\":\"no_come\"},nativeOn:{\"click\":function($event){return _vm.queryClassified('no_come')}}},[_vm._v(\"\\n        预订未到\\n        \")])],1)],1)],1),_c('Content',{staticClass:\"laike-hotel-content\"},[_c('Row',[_c('Col',{attrs:{\"span\":24}},[_c('Form',{ref:\"queryForm\",attrs:{\"model\":_vm.query,\"inline\":\"\"}},[(_vm.isShowDate)?_c('FormItem',{attrs:{\"label\":\"营业日\",\"label-width\":80,\"prop\":\"startTime\"}},[_c('DatePicker',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"date\",\"clearable\":\"\",\"placement\":\"bottom-end\",\"placeholder\":\"开始时间\",\"options\":_vm.options1},on:{\"on-change\":_vm.setEndTime},model:{value:(_vm.query.startTime),callback:function ($$v) {_vm.$set(_vm.query, \"startTime\", $$v)},expression:\"query.startTime\"}}),_vm._v(\"--\\n          \"),_c('DatePicker',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"date\",\"placement\":\"bottom-end\",\"placeholder\":\"结束时间\",\"options\":_vm.options1},model:{value:(_vm.query.endTime),callback:function ($$v) {_vm.$set(_vm.query, \"endTime\", $$v)},expression:\"query.endTime\"}})],1):_vm._e(),_c('FormItem',{attrs:{\"prop\":\"endTime\"}}),_c('FormItem',{attrs:{\"prop\":\"orderNo\"}},[_c('Input',{attrs:{\"clearable\":\"\",\"placeholder\":\"输入订单号\"},model:{value:(_vm.query.orderNo),callback:function ($$v) {_vm.$set(_vm.query, \"orderNo\", $$v)},expression:\"query.orderNo\"}})],1),_c('FormItem',{attrs:{\"prop\":\"guestName\"}},[_c('Input',{attrs:{\"clearable\":\"\",\"placeholder\":\"输入客人姓名\"},model:{value:(_vm.query.guestName),callback:function ($$v) {_vm.$set(_vm.query, \"guestName\", $$v)},expression:\"query.guestName\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){_vm.page.page=1;_vm.getOrderList()}}},[_vm._v(\"查询\")])],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.handleReset('queryForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1),_c('Row',[_c('Col',{attrs:{\"span\":24}},[_c('Table',{staticClass:\"orderTable\",attrs:{\"stripe\":\"\",\"border\":\"\",\"size\":\"small\",\"columns\":_vm.orderCol,\"data\":_vm.orders},on:{\"on-row-dblclick\":_vm.handleColDbClick},scopedSlots:_vm._u([{key:\"orderStateCode\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n          \"+_vm._s(_vm._f(\"codeToText\")(row.orderStateCode))+\"\\n        \")]}},{key:\"orderRooms\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._l((row.orderRooms),function(item,index){return _c('Row',{key:'room'+index},[_c('Col',{staticStyle:{\"padding\":\"5px\"},attrs:{\"span\":24}},[_c('div',{staticClass:\"roomInfo\",staticStyle:{\"width\":\"50px\",\"padding-right\":\"0px\"}},[_vm._v(_vm._s(item.guestName))]),_c('div',{staticClass:\"roomInfo\",staticStyle:{\"width\":\"105px\",\"padding-right\":\"0px\"}},[_vm._v(_vm._s(item.roomName)+\"（\"+_vm._s(item.roomTypeName)+\"）\")]),_c('div',{staticClass:\"roomInfo\",staticStyle:{\"padding-right\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"codeToText\")(item.orderTypeCode)))]),_c('div',{staticClass:\"roomInfo\",staticStyle:{\"width\":\"50px\",\"padding-right\":\"10px\"}},[_vm._v(_vm._s(item.roomPrice)+\"元\")]),(item.orderRoomStateCode === 'live')?_c('div',{staticClass:\"roomInfo\",staticStyle:{\"padding-right\":\"10px\"}},[_vm._v(\"\\n              时间：\"+_vm._s(_vm._f(\"inOutTimeFilter\")(item.realInTime))+\"至\"+_vm._s(_vm._f(\"inOutTimeFilter\")(item.estimateOutTime)))]):_vm._e(),(item.orderRoomStateCode === 'left')?_c('div',{staticClass:\"roomInfo\",staticStyle:{\"padding-right\":\"10px\"}},[_vm._v(\"\\n              时间：\"+_vm._s(_vm._f(\"inOutTimeFilter\")(item.realInTime))+\"至\"+_vm._s(_vm._f(\"inOutTimeFilter\")(item.realOutTime)))]):_vm._e(),(item.orderRoomStateCode === 'no_live')?_c('div',{staticClass:\"roomInfo\",staticStyle:{\"padding-right\":\"10px\"}},[_vm._v(\"\\n              时间：\"+_vm._s(_vm._f(\"inOutTimeFilter\")(item.estimateInTime))+\"至\"+_vm._s(_vm._f(\"inOutTimeFilter\")(item.estimateOutTime)))]):_vm._e(),_c('div',{staticClass:\"roomInfo\",staticStyle:{\"padding-right\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"codeToText\")(item.orderRoomStateCode)))])])],1)}),_vm._l((row.orderReserves),function(item,index){return (item.allottedNum < item.reserveNum)?_c('Row',{key:index},[_c('Col',{staticStyle:{\"padding\":\"5px\"},attrs:{\"span\":24}},[_c('div',{staticClass:\"roomInfo\",staticStyle:{\"width\":\"70px\",\"padding-right\":\"0px\"}},[_vm._v(_vm._s(item.roomTypeName))]),_c('div',{staticClass:\"roomInfo\",staticStyle:{\"width\":\"50px\",\"padding-right\":\"10px\"}},[_vm._v(_vm._s(item.roomTypePrice)+\"元\")]),_c('div',{staticClass:\"roomInfo\",staticStyle:{\"padding-right\":\"10px\"}},[_vm._v(_vm._s(item.reserveNum)+\" 间\")]),_c('div',{staticClass:\"roomInfo\",staticStyle:{\"width\":\"90px\",\"padding-right\":\"10px\"}},[_vm._v(\"已分配: \"+_vm._s(item.allottedNum)+\" 间\")]),_c('div',{staticClass:\"roomInfo\",staticStyle:{\"padding-right\":\"10px\"}},[_vm._v(\"\\n              时间：\"+_vm._s(_vm._f(\"inOutTimeFilter\")(item.estimateInTime))+\" 至 \"+_vm._s(_vm._f(\"inOutTimeFilter\")(item.estimateOutTime)))]),_c('div',{staticClass:\"roomInfo\",staticStyle:{\"padding-right\":\"10px\"}},[_vm._v(\"\\n               等待分房\")])])],1):_vm._e()})]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('a',{on:{\"click\":function($event){_vm.viewOrder.orderNo = row.orderNo; _vm.viewOrder.openIs = true;}}},[_vm._v(\"查看详情\")])]}}])})],1)],1),_c('Row',[_c('Col',{attrs:{\"span\":24}},[_c('Page',{attrs:{\"total\":_vm.page.total,\"show-total\":\"\",\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"current\":_vm.page.page,\"page-size\":_vm.page.limit,\"page-size-opts\":_vm.page.pageSizeOpts,\"show-sizer\":\"\"},on:{\"update:current\":function($event){return _vm.$set(_vm.page, \"page\", $event)},\"on-change\":_vm.getOrderList,\"on-page-size-change\":_vm.setPageSize}})],1)],1)],1),_c('ViewOrder',{attrs:{\"open-is\":_vm.viewOrder.openIs,\"view-order-no\":_vm.viewOrder.orderNo},on:{\"viewOrderClose\":function($event){_vm.viewOrder.openIs = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n    orderCol: [\r\n        {\r\n          title: \"订单号\",\r\n          key: \"orderNo\",\r\n          width: 180,\r\n          align: 'center',\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"gmtCreate\",\r\n          width: 150,\r\n          align: 'center',\r\n        },\r\n        {\r\n          title: \"客人\",\r\n          key: \"guestName\",\r\n          width: 100,\r\n          align: 'center',\r\n        },\r\n        {\r\n          title: \"订单状态\",\r\n          slot: \"orderStateCode\",\r\n          width: 100,\r\n          align: 'center',\r\n        },\r\n        {\r\n          title: \"房间信息\",\r\n          slot: \"orderRooms\",\r\n          // width: 300,\r\n          // align: 'center',\r\n        },\r\n        {\r\n          title: \"消费金额\",\r\n          key: \"orderMoney\",\r\n          width: 90,\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: \"已交金额\",\r\n          key: \"payMoney\",\r\n          width: 90,\r\n          align: 'center'\r\n        },\r\n        \r\n        {\r\n          title: '操作',\r\n          slot: 'action',\r\n          width: 100,\r\n          align: 'center'\r\n      },\r\n      ],\r\n    orderRoomCol: [\r\n      {\r\n        title: \"房号\",\r\n        key: \"roomName\",\r\n        width: 180,\r\n        align: 'center',\r\n      },\r\n      {\r\n        title: \"房价\",\r\n        key: \"roomPrice\",\r\n        width: 150,\r\n        align: 'center',\r\n      },\r\n      {\r\n        title: \"客人\",\r\n        key: \"guestName\",\r\n        width: 100,\r\n        align: 'center',\r\n      },\r\n    ]\r\n}","Date.prototype.Format = function(fmt)   \r\n{ //author: meizz   \r\n  var o = {   \r\n    \"M+\" : this.getMonth()+1,                 //月份   \r\n    \"d+\" : this.getDate(),                    //日   \r\n    \"h+\" : this.getHours(),                   //小时   \r\n    \"m+\" : this.getMinutes(),                 //分   \r\n    \"s+\" : this.getSeconds(),                 //秒   \r\n    \"q+\" : Math.floor((this.getMonth()+3)/3), //季度   \r\n    \"S\"  : this.getMilliseconds()             //毫秒   \r\n  };   \r\n  if(/(y+)/.test(fmt))   \r\n    fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));   \r\n  for(var k in o)   \r\n    if(new RegExp(\"(\"+ k +\")\").test(fmt))   \r\n  fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));   \r\n  return fmt;   \r\n}  \r\n\r\n\r\n\r\nexport default {\r\n\tgetBusinessDate: function(date, businessDayEndHour) {\r\n\t\tif (\"\" !== date && null != date && \"undefind\" !== date ) {\r\n\t\t\tlet newDate = new Date(date);\r\n\t\t\treturn newDate.Format(\"yyyy-MM-dd\") + ' ' + businessDayEndHour + ':00:00';\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t},\r\n}","<template>\r\n  <Layout :style=\"{height: conHeight+'px'}\">\r\n    <Sider>\r\n      <Menu\r\n        theme=\"light\"\r\n        active-name=\"all\"\r\n        width=\"auto\"\r\n        :style=\"{height: '100%'}\"\r\n      >\r\n        <MenuGroup title=\"订单查询\">\r\n          <MenuItem\r\n            name=\"all\"\r\n            @click.native=\"queryClassified('all')\"\r\n          >\r\n          全部订单\r\n          </MenuItem>\r\n          <MenuItem\r\n            name=\"live\"\r\n            @click.native=\"queryClassified('live')\"\r\n          >\r\n          当前正住\r\n          </MenuItem>\r\n          <MenuItem\r\n            name=\"out\"\r\n            @click.native=\"queryClassified('out')\"\r\n          >\r\n          今日预退\r\n          </MenuItem>\r\n          <MenuItem\r\n            name=\"today_come\"\r\n            @click.native=\"queryClassified('today_come')\"\r\n          >\r\n          今日预到\r\n          </MenuItem>\r\n          <MenuItem\r\n            name=\"wait_allot\"\r\n            @click.native=\"queryClassified('wait_allot')\"\r\n          >\r\n          等待分房\r\n          </MenuItem>\r\n          <MenuItem\r\n            name=\"no_come\"\r\n            @click.native=\"queryClassified('no_come')\"\r\n          >\r\n          预订未到\r\n          </MenuItem>\r\n        </MenuGroup>\r\n      </Menu>\r\n    </Sider>\r\n    <Content class=\"laike-hotel-content\">\r\n      <Row>\r\n        <Col :span=\"24\">\r\n        <Form\r\n          ref=\"queryForm\"\r\n          :model=\"query\"\r\n          inline\r\n        >\r\n          <FormItem\r\n            v-if=\"isShowDate\"\r\n            label=\"营业日\"\r\n            :label-width=\"80\"\r\n            prop=\"startTime\"\r\n          >\r\n            <DatePicker\r\n              v-model=\"query.startTime\"\r\n              type=\"date\"\r\n              clearable\r\n              placement=\"bottom-end\"\r\n              placeholder=\"开始时间\"\r\n              style=\"width: 120px\"\r\n              :options=\"options1\"\r\n              @on-change=\"setEndTime\"\r\n            ></DatePicker>--\r\n            <DatePicker\r\n              v-model=\"query.endTime\"\r\n              type=\"date\"\r\n              placement=\"bottom-end\"\r\n              placeholder=\"结束时间\"\r\n              style=\"width: 120px\"\r\n              :options=\"options1\"\r\n            ></DatePicker>\r\n          </FormItem>\r\n          <FormItem prop=\"endTime\"> </FormItem>\r\n          <FormItem prop=\"orderNo\">\r\n            <Input\r\n              v-model=\"query.orderNo\"\r\n              clearable\r\n              placeholder=\"输入订单号\"\r\n            />\r\n          </FormItem>\r\n          <FormItem prop=\"guestName\">\r\n            <Input\r\n              v-model=\"query.guestName\"\r\n              clearable\r\n              placeholder=\"输入客人姓名\"\r\n            />\r\n          </FormItem>\r\n          <FormItem>\r\n            <Button\r\n              type=\"info\"\r\n              @click=\"page.page=1;getOrderList()\"\r\n            >查询</Button>\r\n          </FormItem>\r\n          <FormItem>\r\n            <Button\r\n              type=\"info\"\r\n              @click=\"handleReset('queryForm')\"\r\n            >重置</Button>\r\n          </FormItem>\r\n        </Form>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col :span=\"24\">\r\n        <Table\r\n          stripe\r\n          border\r\n          size=\"small\"\r\n          class=\"orderTable\"\r\n          :columns=\"orderCol\"\r\n          :data=\"orders\"\r\n          @on-row-dblclick=\"handleColDbClick\"\r\n        >\r\n          <template\r\n            slot-scope=\"{row}\"\r\n            slot=\"orderStateCode\"\r\n          >\r\n            {{ row.orderStateCode | codeToText }}\r\n          </template>\r\n          <template\r\n            slot-scope=\"{row}\"\r\n            slot=\"orderRooms\"\r\n          >\r\n            <Row\r\n              v-for=\"(item, index) in row.orderRooms\"\r\n              :key=\"'room'+index\"\r\n            >\r\n              <Col\r\n                :span=\"24\"\r\n                style=\"padding:5px;\"\r\n              >\r\n              <!-- <Table stripe :show-header=\"false\" size=\"small\" :columns=\"orderRoomCol\" :data=\"row.orderRooms\"></Table> -->\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\" width:50px;padding-right:0px;\"\r\n              >{{ item.guestName }}</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"width:105px;padding-right:0px;\"\r\n              >{{ item.roomName }}（{{ item.roomTypeName }}）</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"padding-right:10px;\"\r\n              >{{ item.orderTypeCode | codeToText }}</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"width:50px;padding-right:10px;\"\r\n              >{{ item.roomPrice }}元</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                v-if=\"item.orderRoomStateCode === 'live'\"\r\n                style=\"padding-right:10px;\"\r\n              >\r\n                时间：{{ item.realInTime | inOutTimeFilter }}至{{ item.estimateOutTime | inOutTimeFilter }}</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                v-if=\"item.orderRoomStateCode === 'left'\"\r\n                style=\"padding-right:10px;\"\r\n              >\r\n                时间：{{ item.realInTime | inOutTimeFilter }}至{{ item.realOutTime | inOutTimeFilter }}</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                v-if=\"item.orderRoomStateCode === 'no_live'\"\r\n                style=\"padding-right:10px;\"\r\n              >\r\n                时间：{{ item.estimateInTime | inOutTimeFilter }}至{{ item.estimateOutTime | inOutTimeFilter }}</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"padding-right:10px;\"\r\n              >{{ item.orderRoomStateCode | codeToText }}</div>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row \r\n              v-for=\"(item, index) in row.orderReserves\"\r\n              :key=\"index\"\r\n              v-if=\"item.allottedNum < item.reserveNum\"\r\n            >\r\n              <Col\r\n                :span=\"24\"\r\n                style=\"padding:5px;\"\r\n              >\r\n              <!-- <Table stripe :show-header=\"false\" size=\"small\" :columns=\"orderRoomCol\" :data=\"row.orderRooms\"></Table> -->\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"width:70px;padding-right:0px;\"\r\n              >{{ item.roomTypeName }}</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"width:50px;padding-right:10px;\"\r\n              >{{ item.roomTypePrice }}元</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"padding-right:10px;\"\r\n              >{{ item.reserveNum }} 间</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"width:90px;padding-right:10px;\"\r\n              >已分配: {{ item.allottedNum }} 间</div>\r\n\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"padding-right:10px;\"\r\n              >\r\n                时间：{{ item.estimateInTime | inOutTimeFilter }} 至 {{ item.estimateOutTime | inOutTimeFilter }}</div>\r\n              <div\r\n                class=\"roomInfo\"\r\n                style=\"padding-right:10px;\"\r\n              >\r\n                 等待分房</div>\r\n\r\n              </Col>\r\n            </Row>\r\n          </template>\r\n          <template\r\n            slot-scope=\"{row}\"\r\n            slot=\"action\"\r\n          >\r\n            <a @click=\"viewOrder.orderNo = row.orderNo; viewOrder.openIs = true;\">查看详情</a>\r\n            <!-- <Button size=\"small\" type=\"info\" ghost>查看详情</Button> -->\r\n          </template>\r\n        </Table>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col :span=\"24\">\r\n        <Page\r\n          :total=\"page.total\"\r\n          show-total\r\n          prev-text=\"上一页\"\r\n          next-text=\"下一页\"\r\n          :current.sync=\"page.page\"\r\n          :page-size=\"page.limit\"\r\n          :page-size-opts=\"page.pageSizeOpts\"\r\n          @on-change=\"getOrderList\"\r\n          show-sizer\r\n          @on-page-size-change=\"setPageSize\"\r\n        />\r\n        </Col>\r\n      </Row>\r\n    </Content>\r\n    <ViewOrder\r\n      :open-is=\"viewOrder.openIs\"\r\n      :view-order-no=\"viewOrder.orderNo\"\r\n      @viewOrderClose=\"viewOrder.openIs = false\"\r\n    />\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions, mapGetters } from \"vuex\";\r\nimport orderData from \"./data/orderData.js\";\r\nimport { getOrders } from \"@/api/order.js\";\r\nimport ViewOrder from \"./ViewOrder.vue\";\r\nimport { orderCodeToText } from \"@/util/code2Text.js\";\r\nimport queryUtils from \"@/util/queryUtils.js\";\r\nexport default {\r\n  name: \"OrderPage\",\r\n  components: {\r\n    ViewOrder\r\n  },\r\n  filters: {\r\n    inOutTimeFilter(val) {\r\n      if (!val) return \"\";\r\n      return new Date(val).Format(\"MM-dd hh:mm\");\r\n    },\r\n    codeToText(val) {\r\n      return orderCodeToText(val);\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      orderCol: orderData.orderCol,\r\n      orderRoomCol: orderData.orderRoomCol,\r\n      businessDayEndHour: 6,\r\n      orders: [],\r\n      query: {\r\n        orderNo: null,\r\n        startTime: \"\",\r\n        endTime: \"\",\r\n        ss: null,\r\n        guestName: null,\r\n        \"orderRoomQuery.orderRoomStateCode\": null,\r\n        \"orderRoomQuery.estimateOutTimeStart\": null,\r\n        \"orderRoomQuery.estimateOutTimeEnd\": null,\r\n        \"orderRoomQuery.estimateInTimeStart\": null,\r\n        \"orderRoomQuery.estimateInTimeEnd\": null,\r\n        queryType: null,\r\n        page: 1,\r\n        limit: 15,\r\n        sortBy: \"gmtCreate\",\r\n        orderBy: \"desc\"\r\n      },\r\n      viewOrder: {\r\n        openIs: false,\r\n        orderNo: \"\"\r\n      },\r\n      page: {\r\n        total: 0,\r\n        page: 1,\r\n        limit: 15,\r\n        pageSizeOpts: [5, 10, 15, 20, 30, 40]\r\n      },\r\n      options1: {\r\n        shortcuts: [\r\n          {\r\n            text: \"今天\",\r\n            value() {\r\n              return new Date().toLocaleString();\r\n            }\r\n            // onClick: picker => {\r\n            //   this.$Message.info(\"Click today\");\r\n            // }\r\n          },\r\n          {\r\n            text: \"昨天\",\r\n            value() {\r\n              let date = new Date();\r\n              date.setDate(date.getDate() - 1);\r\n              return date.toLocaleString();\r\n            }\r\n          },\r\n          {\r\n            text: \"前天\",\r\n            value() {\r\n              let date = new Date();\r\n              date.setDate(date.getDate() - 2);\r\n              return date.toLocaleString();\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      isShowDate: true\r\n    };\r\n  },\r\n  computed: {\r\n    conHeight() {\r\n      return this.appHeight - 65;\r\n    },\r\n    ...mapState({\r\n      appHeight: state => state.webSet.appHeight,\r\n      channel: state => state.dic.channel\r\n    })\r\n  },\r\n  mounted() {\r\n    // let date = new Date();\r\n    // if (date.getHours() < this.businessDayEndHour) {\r\n    //   date.setDate(date.getDate() - 1);\r\n    // }\r\n    // this.query.startTime = queryUtils.getBusinessDate(\r\n    //   date,\r\n    //   this.businessDayEndHour\r\n    // );\r\n    this.$nextTick(() => {\r\n      this.getOrderList();\r\n    });\r\n  },\r\n  methods: {\r\n    queryClassified(val) {\r\n      Object.assign(this.$data.query, this.$options.data().query);\r\n      Object.assign(this.$data.page, this.$options.data().page);\r\n      if (\"all\" === val) {\r\n        this.isShowDate = true;\r\n      }\r\n      if (\"live\" === val) {\r\n        this.isShowDate = false;\r\n        this.query[\"orderRoomQuery.orderRoomStateCode\"] = \"live\";\r\n        this.query.queryType = \"live\";\r\n      }\r\n      if (\"out\" === val) {\r\n        this.isShowDate = false;\r\n        this.query[\"orderRoomQuery.orderRoomStateCode\"] = \"live\";\r\n        this.query[\r\n          \"orderRoomQuery.estimateOutTimeStart\"\r\n        ] = queryUtils.getBusinessDate(new Date(), this.businessDayEndHour);\r\n        this.query[\r\n          \"orderRoomQuery.estimateOutTimeEnd\"\r\n        ] = queryUtils.getBusinessDate(\r\n          new Date().setDate(new Date().getDate() + 1),\r\n          this.businessDayEndHour\r\n        );\r\n        this.query.queryType = \"live\";\r\n      }\r\n\r\n      if (\"wait_allot\" === val) {\r\n        this.isShowDate = false;\r\n        this.query.queryType = \"reserve\";\r\n      }\r\n\r\n      if (\"no_come\" === val) {\r\n        this.isShowDate = false;\r\n        this.query[\"orderRoomQuery.orderRoomStateCode\"] = \"no_live\";\r\n        this.query.queryType = \"reserve\";\r\n      }\r\n\r\n      if (\"today_come\" === val) {\r\n        this.isShowDate = false;\r\n        this.query[\"orderRoomQuery.orderRoomStateCode\"] = \"no_live\";\r\n        this.query[\r\n          \"orderRoomQuery.estimateInTimeStart\"\r\n        ] = queryUtils.getBusinessDate(new Date(), this.businessDayEndHour);\r\n        this.query[\r\n          \"orderRoomQuery.estimateInTimeEnd\"\r\n        ] = queryUtils.getBusinessDate(\r\n          new Date().setDate(new Date().getDate() + 1),\r\n          this.businessDayEndHour\r\n        );\r\n        this.query.queryType = \"reserve\";\r\n      }\r\n\r\n      this.getOrderList();\r\n    },\r\n    getOrderList() {\r\n      this.query.page = this.page.page;\r\n      this.query.limit = this.page.limit;\r\n\r\n      this.query.startTime = queryUtils.getBusinessDate(\r\n        this.query.startTime,\r\n        this.businessDayEndHour\r\n      );\r\n      this.query.endTime = queryUtils.getBusinessDate(\r\n        this.query.endTime,\r\n        this.businessDayEndHour\r\n      );\r\n      getOrders(this.query).then(res => {\r\n        if (res.data.code === 0) {\r\n          this.orders = res.data.data;\r\n          this.page.total = res.data.count;\r\n        } else {\r\n          this.$Message.error(res.data.code + \"：\" + res.data.msg);\r\n        }\r\n      });\r\n    },\r\n    setEndTime(val) {\r\n      let date = new Date(val);\r\n      date.setDate(date.getDate() + 1);\r\n      this.query.endTime = date.toLocaleString();\r\n    },\r\n    setPageSize(val) {\r\n      this.page.limit = val;\r\n      this.getOrderList();\r\n    },\r\n    handleReset(name) {\r\n      this.$refs[name].resetFields();\r\n    },\r\n    handleColDbClick(row, index) {\r\n      this.viewOrder.orderNo = row.orderNo;\r\n      this.viewOrder.openIs = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.orderTable {\r\n  font: 1.1em sans-serif;\r\n  font-weight: bold;\r\n}\r\n.roomInfo {\r\n  float: left;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=e3f336fe&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}