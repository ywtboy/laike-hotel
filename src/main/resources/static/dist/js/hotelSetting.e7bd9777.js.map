{"version":3,"sources":["webpack:///./src/components/hotel/setting/HotelSetting.vue?6e3c","webpack:///./src/components/hotel/setting/data/hotelData.js","webpack:///src/components/hotel/setting/HotelSetting.vue","webpack:///./src/components/hotel/setting/HotelSetting.vue?dc27","webpack:///./src/components/hotel/setting/HotelSetting.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","padding","attrs","span","_v","align","margin-right","type","size","on","click","$event","roomTypeModal","roomTypeTitle","columns","roomTypeCol","data","roomTypes","stripe","loading","scopedSlots","_u","key","fn","ref","row","_l","room","index","roomId","_s","roomName","rooms","length","openRoomTypeEditModal","title","on-visible-change","resetForm","model","value","callback","$$v","expression","roomType","label-width","rules","ruleroomType","label","prop","width","placeholder","$set","i","padding-right","padding-bottom","icon","on-click","handleRemove","shape","handleAdd","number","prefix","slot","float","loadroomType","submitRoomType","staticRenderFns","hotelData","HotelSettingvue_type_script_lang_js_","name","[object Object]","hotelNo","roomTypeId","roomTypeName","roomTypePrice","sortNo","roomNo","required","message","getRoomTypeList","methods","Object","then","res","console","log","$refs","validate","valid","method","code","$Message","success","msg","error","forEach","element","push","form","event","resetFields","assign","$data","$options","splice","setting_HotelSettingvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/hotelSetting.e7bd9777.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('div',[_c('Row',[_c('Col',{attrs:{\"span\":18}},[_vm._v(\" \")]),_c('Col',{attrs:{\"span\":6,\"align\":\"right\"}},[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"\\n        门店信息\\n      \")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.roomTypeModal = true;_vm.roomTypeTitle = '添加房型';}}},[_vm._v(\"\\n        添加房型\\n      \")])],1)],1)],1),_c('div',[_c('Table',{attrs:{\"columns\":_vm.roomTypeCol,\"data\":_vm.roomTypes,\"stripe\":\"\",\"loading\":false},scopedSlots:_vm._u([{key:\"roomNo\",fn:function(ref){\nvar row = ref.row;\nreturn _vm._l((row.rooms),function(room,index){return _c('a',{key:room.roomId,staticStyle:{\"margin-right\":\"6px\"}},[_vm._v(_vm._s(room.roomName))])})}},{key:\"count\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.rooms.length)+\"\\n      \")]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openRoomTypeEditModal(row)}}},[_vm._v(\"修改\")]),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"}},[_vm._v(\"删除\")])]}}])})],1),_c('Modal',{attrs:{\"title\":_vm.roomTypeTitle},on:{\"on-visible-change\":function($event){return _vm.resetForm('roomTypeForm',$event)}},model:{value:(_vm.roomTypeModal),callback:function ($$v) {_vm.roomTypeModal=$$v},expression:\"roomTypeModal\"}},[_c('Form',{ref:\"roomTypeForm\",attrs:{\"model\":_vm.roomType,\"label-width\":80,\"rules\":_vm.ruleroomType}},[_c('FormItem',{attrs:{\"label\":\"房型名称\",\"prop\":\"roomTypeName\"}},[_c('Input',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"请输入房型名称\"},model:{value:(_vm.roomType.roomTypeName),callback:function ($$v) {_vm.$set(_vm.roomType, \"roomTypeName\", $$v)},expression:\"roomType.roomTypeName\"}})],1),_c('FormItem',{attrs:{\"label\":\"房号\",\"prop\":\"roomName\"}},[_vm._l((_vm.roomType.rooms),function(room,i){return _c('Input',{staticStyle:{\"width\":\"100px\",\"padding-right\":\"4px\",\"padding-bottom\":\"3px\"},attrs:{\"placeholder\":\"输入房号\",\"icon\":\"md-close\"},on:{\"on-click\":function($event){return _vm.handleRemove(i)}},model:{value:(room.roomName),callback:function ($$v) {_vm.$set(room, \"roomName\", $$v)},expression:\"room.roomName\"}})}),_c('Button',{attrs:{\"size\":\"small\",\"shape\":\"circle\",\"icon\":\"md-add\"},on:{\"click\":_vm.handleAdd}})],2),_c('FormItem',{attrs:{\"label\":\"默认房价\",\"prop\":\"roomTypePrice\"}},[_c('Input',{staticStyle:{\"width\":\"250px\"},attrs:{\"number\":\"\",\"prefix\":\"logo-yen\",\"placeholder\":\"请输入默认房价\"},model:{value:(_vm.roomType.roomTypePrice),callback:function ($$v) {_vm.$set(_vm.roomType, \"roomTypePrice\", $$v)},expression:\"roomType.roomTypePrice\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('p',{staticStyle:{\"float\":\"left\"},attrs:{\"align\":\"left\"}},[_c('Icon',{attrs:{\"type\":\"ios-information-circle-outline\",\"size\":16}}),_vm._v(\"\\n        说明：点击\\n        \"),_c('Icon',{attrs:{\"type\":\"md-add\",\"size\":\"16\"}}),_vm._v(\"\\n        可以添加多个房号，点击\\n        \"),_c('Icon',{attrs:{\"type\":\"md-close\",\"size\":\"16\"}}),_vm._v(\"\\n        可删除房号\\n      \")],1),_c('Button',{attrs:{\"size\":\"large\"},on:{\"click\":function($event){_vm.roomTypeModal = false;}}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"large\",\"loading\":_vm.loadroomType},on:{\"click\":_vm.submitRoomType}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n    roomTypeCol: [\r\n        {\r\n            type: 'index',\r\n            title: '序号',\r\n            width: 60\r\n        },\r\n        {\r\n            title: '房型名称',\r\n            key: 'roomTypeName',\r\n            width: 150\r\n        },\r\n        {\r\n            title: '默认房价',\r\n            key: 'roomTypePrice',\r\n            width: 150\r\n        },\r\n        {\r\n            title: '数量',\r\n            slot: 'count',\r\n            width: 100\r\n        },\r\n        {\r\n            title: '房号',\r\n            slot: 'roomNo',\r\n            \r\n        },\r\n        {\r\n            title: '操作',\r\n            slot: 'action',\r\n            // width: 150,\r\n            align: 'center'\r\n        },\r\n        \r\n    ]\r\n}","<template>\r\n  <div style=\"padding: 10px\">\r\n    <div>\r\n      <Row>\r\n        <Col :span=\"18\">&nbsp;</Col>\r\n        <!-- <Col :span=\"\"></Col> -->\r\n        <Col\r\n          :span=\"6\"\r\n          align=\"right\"\r\n        >\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          style=\"margin-right: 5px\"\r\n        >\r\n          门店信息\r\n        </Button>\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          style=\"margin-right: 5px\"\r\n          @click=\"roomTypeModal = true;roomTypeTitle = '添加房型';\"\r\n        >\r\n          添加房型\r\n        </Button>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n    <div>\r\n      <Table\r\n        :columns=\"roomTypeCol\"\r\n        :data=\"roomTypes\"\r\n        stripe\r\n        :loading=\"false\"\r\n      >\r\n        <template\r\n          slot-scope=\"{row}\"\r\n          slot=\"roomNo\"\r\n        >\r\n          <a\r\n            style=\"margin-right: 6px;\"\r\n            v-for=\"(room, index) in row.rooms\"\r\n            :key=\"room.roomId\"\r\n          >{{ room.roomName }}</a>\r\n        </template>\r\n        <template\r\n          slot-scope=\"{row}\"\r\n          slot=\"count\"\r\n        >\r\n          {{ row.rooms.length }}\r\n        </template>\r\n        <template\r\n          slot-scope=\"{row}\"\r\n          slot=\"action\"\r\n        >\r\n          <Button\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            style=\"margin-right: 5px\"\r\n            @click=\"openRoomTypeEditModal(row)\"\r\n          >修改</Button>\r\n          <Button\r\n            type=\"error\"\r\n            size=\"small\"\r\n          >删除</Button>\r\n        </template>\r\n      </Table>\r\n    </div>\r\n\r\n    <Modal\r\n      v-model=\"roomTypeModal\"\r\n      :title=\"roomTypeTitle\"\r\n      @on-visible-change=\"resetForm('roomTypeForm',$event)\"\r\n    >\r\n      <Form\r\n        ref=\"roomTypeForm\"\r\n        :model=\"roomType\"\r\n        :label-width=\"80\"\r\n        :rules=\"ruleroomType\"\r\n      >\r\n        <FormItem\r\n          label=\"房型名称\"\r\n          prop=\"roomTypeName\"\r\n        >\r\n          <Input\r\n            v-model=\"roomType.roomTypeName\"\r\n            placeholder=\"请输入房型名称\"\r\n            style=\"width: 250px;\"\r\n          ></Input>\r\n        </FormItem>\r\n        <FormItem\r\n          label=\"房号\"\r\n          prop=\"roomName\"\r\n        >\r\n          <Input\r\n            v-for=\"(room, i) in roomType.rooms\"\r\n            v-model=\"room.roomName\"\r\n            placeholder=\"输入房号\"\r\n            style=\"width: 100px; padding-right: 4px; padding-bottom: 3px\"\r\n            icon=\"md-close\"\r\n            @on-click=\"handleRemove(i)\"\r\n          >\r\n          </Input>\r\n          <Button\r\n            size=\"small\"\r\n            shape=\"circle\"\r\n            icon=\"md-add\"\r\n            @click=\"handleAdd\"\r\n          ></Button>\r\n\r\n        </FormItem>\r\n        <FormItem\r\n          label=\"默认房价\"\r\n          prop=\"roomTypePrice\"\r\n        >\r\n          <Input\r\n            v-model=\"roomType.roomTypePrice\"\r\n            number\r\n            prefix=\"logo-yen\"\r\n            placeholder=\"请输入默认房价\"\r\n            style=\"width: 250px;\"\r\n          ></Input>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <p\r\n          align=\"left\"\r\n          style=\"float: left;\"\r\n        >\r\n          <Icon\r\n            type=\"ios-information-circle-outline\"\r\n            :size=\"16\"\r\n          />\r\n          说明：点击\r\n          <Icon\r\n            type=\"md-add\"\r\n            size=\"16\"\r\n          />\r\n          可以添加多个房号，点击\r\n          <Icon\r\n            type=\"md-close\"\r\n            size=\"16\"\r\n          />\r\n          可删除房号\r\n        </p>\r\n\r\n        <Button\r\n          size=\"large\"\r\n          @click=\"roomTypeModal = false;\"\r\n        >取消</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"large\"\r\n          :loading=\"loadroomType\"\r\n          @click=\"submitRoomType\"\r\n        >确定</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport hotel from \"./data/hotelData.js\";\r\nimport { getRoomType, addOrUpdateRoomType } from \"@/api/room\";\r\nexport default {\r\n  name: \"HotelSetting\",\r\n  data() {\r\n    return {\r\n      roomTypeCol: hotel.roomTypeCol,\r\n      roomTypes: [],\r\n      hotelNo: \"622723001\",\r\n      roomTypeModal: false,\r\n      roomTypeTitle: \"添加房型\",\r\n      roomType: {\r\n        roomTypeId: null,\r\n        roomTypeName: \"\",\r\n        roomTypePrice: null,\r\n        hotelNo: \"\",\r\n        sortNo: 99,\r\n        rooms: [{ roomName: \"\", roomNo: \"\" }]\r\n      },\r\n      ruleroomType: {\r\n        roomTypeName: [{ required: true, message: \"请输入房型名称\" }],\r\n        // 'room.roomName': [\r\n        //   { required: true, message: \"请输入房号\"}\r\n        // ],\r\n        roomTypePrice: [\r\n          { required: true, message: \"请输入默认房价\" },\r\n          { type: \"number\", message: \"必须是数字\" }\r\n        ]\r\n      },\r\n      loadroomType: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getRoomTypeList();\r\n  },\r\n  methods: {\r\n    getRoomTypeList() {\r\n      getRoomType().then(res => {\r\n        this.roomTypes = res.data.data;\r\n      });\r\n    },\r\n    submitRoomType() {\r\n      console.log(this.roomType);\r\n      this.$refs[\"roomTypeForm\"].validate(valid => {\r\n        if (valid) {\r\n          this.loadroomType = true;\r\n          console.log(\"通过\");\r\n          let method = \"post\";\r\n          if (this.roomType.roomTypeId !== null) {\r\n            method = \"patch\";\r\n          }\r\n          addOrUpdateRoomType(this.roomType, method).then(res => {\r\n            if (res.data.code == 0) {\r\n              this.$Message.success(res.data.msg);\r\n              this.roomTypeModal = false;\r\n              this.getRoomTypeList();\r\n            } else {\r\n              this.$Message.error(res.data.code + \": \" + res.data.msg);\r\n              this.loadroomType = false;\r\n            }\r\n          });\r\n        } else {\r\n          this.$Message.error(\"请输入\");\r\n          this.loadroomType = false;\r\n        }\r\n      });\r\n    },\r\n    openRoomTypeEditModal(row) {\r\n        this.roomTypeTitle = \"修改房型\";\r\n        this.roomTypeModal = true;\r\n        this.roomType.roomTypeId = row.roomTypeId;\r\n        this.roomType.roomTypeName = row.roomTypeName;\r\n        this.roomType.roomTypePrice = row.roomTypePrice;\r\n\r\n        this.roomType.rooms = [{ roomName: \"\", roomNo: \"\" }];\r\n        row.rooms.forEach(element => {\r\n            this.roomType.rooms.push(element);\r\n        });\r\n        console.log('房间：', this.roomType.rooms)\r\n\r\n    },\r\n    resetForm(form, event) {\r\n      if (!event) {\r\n        this.$refs[form].resetFields();\r\n        // 恢复默认数据\r\n        Object.assign(this.$data.roomType, this.$options.data().roomType)\r\n        this.loadroomType = false;\r\n        // this.roomType.rooms = [{ roomName: \"\", roomNo: \"\" }];\r\n      }\r\n    },\r\n    handleAdd() {\r\n      this.roomType.rooms.push({\r\n        roomName: \"\",\r\n        roomNo: \"\"\r\n      });\r\n    },\r\n    handleRemove(i) {\r\n      console.log(\"shan除\" + i);\r\n      if (i == 0 && this.roomType.rooms.length === 1) {\r\n        this.$Message.error(\"这是最后一个啦！\");\r\n      } else {\r\n        this.roomType.rooms.splice(i, 1);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotelSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HotelSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HotelSetting.vue?vue&type=template&id=17ac11dc&\"\nimport script from \"./HotelSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./HotelSetting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}