(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["guestList"],{"7f7f":function(e,t,a){var s=a("86cc").f,i=Function.prototype,r=/^\s*function ([^ (]*)/,u="name";u in i||a("9e1e")&&s(i,u,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},f753:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("Row",[a("Form",{ref:"queryGuestForm",attrs:{model:e.query,inline:""}},[a("FormItem",{attrs:{prop:"guestName"}},[a("Input",{attrs:{clearable:"",placeholder:"客人姓名"},model:{value:e.query.guestName,callback:function(t){e.$set(e.query,"guestName",t)},expression:"query.guestName"}})],1),a("FormItem",{attrs:{prop:"guestTel"}},[a("Input",{attrs:{clearable:"",placeholder:"手机号码"},model:{value:e.query.guestTel,callback:function(t){e.$set(e.query,"guestTel",t)},expression:"query.guestTel"}})],1),a("FormItem",{attrs:{prop:"certificateNo"}},[a("Input",{attrs:{clearable:"",placeholder:"证件号码"},model:{value:e.query.certificateNo,callback:function(t){e.$set(e.query,"certificateNo",t)},expression:"query.certificateNo"}})],1),a("FormItem",[a("Button",{attrs:{type:"info"},on:{click:function(t){e.page.page=1,e.loadGuests()}}},[e._v("查询")])],1),a("FormItem",[a("Button",{attrs:{type:"info"},on:{click:function(t){return e.handleReset("queryGuestForm")}}},[e._v("重置")])],1)],1)],1)],1),a("div",[a("Table",{staticClass:"laike-hotel-table",attrs:{stripe:"",border:"",size:"small",columns:e.guestCol,data:e.guests},on:{"on-row-dblclick":e.handleColDbClick},scopedSlots:e._u([{key:"guestSex",fn:function(t){var s=t.row;return["male"===s.guestSex?a("span",[e._v("男")]):"female"===s.guestSex?a("span",[e._v("女")]):a("span",[e._v("未知")])]}}])})],1),a("Row",[a("Col",{attrs:{span:24}},[a("Page",{attrs:{total:e.page.total,"show-total":"","prev-text":"上一页","next-text":"下一页",current:e.page.page,"page-size":e.page.limit,"page-size-opts":e.page.pageSizeOpts,"show-sizer":""},on:{"update:current":function(t){return e.$set(e.page,"page",t)},"on-change":e.loadGuests,"on-page-size-change":e.setPageSize}})],1)],1)],1)},i=[],r=(a("7f7f"),a("cadf"),a("551c"),a("f751"),a("097d"),a("5834")),u="/api/guest",o=function(e){return r["a"].get(u,{params:e})},n={name:"GuestList",data:function(){return{guests:[],query:{guestName:null,guestTel:null,certificateNo:null,page:1,limit:15,sortBy:"gmtCreate",orderBy:"desc"},page:{total:0,page:1,limit:15,pageSizeOpts:[5,10,15,20,30,40]},guestCol:[{title:"姓名",key:"guestName",width:90},{title:"性别",slot:"guestSex",width:90},{title:"证件号码",key:"certificateNo",width:200},{title:"民族",key:"guestNation",width:90},{title:"手机号",key:"guestTel",width:150},{title:"生日",key:"guestBirthday",width:150},{title:"地址",key:"guestAddress"}]}},mounted:function(){this.loadGuests()},methods:{loadGuests:function(){var e=this;this.query.page=this.page.page,this.query.limit=this.page.limit,o(this.query).then(function(t){0===t.data.code?(e.guests=t.data.data,e.page.total=t.data.count,e.$Message.success("查询成功")):e.$Message.error(t.data.code+"："+t.data.msg)})},handleReset:function(e){this.$refs[e].resetFields()},handleColDbClick:function(){},setPageSize:function(e){this.page.limit=e,this.loadGuests()}}},l=n,c=a("2877"),g=Object(c["a"])(l,s,i,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=guestList-legacy.02228cce.js.map