(function(e){function t(t){for(var r,n,i=t[0],d=t[1],c=t[2],u=0,l=[];u<i.length;u++)n=i[u],a[n]&&l.push(a[n][0]),a[n]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);g&&g(t);while(l.length)l.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],r=!0,n=1;n<o.length;n++){var i=o[n];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=d(d.s=o[0]))}return e}var r={},n={app:0},a={app:0},s=[];function i(e){return d.p+"js/"+({admin:"admin",guestList:"guestList",guestPage:"guestPage",hotelPage:"hotelPage",hotelSetting:"hotelSetting",loginPage:"loginPage",notFound:"notFound","orderPage~roomState":"orderPage~roomState",orderPage:"orderPage",roomState:"roomState",reportPage:"reportPage",settingPage:"settingPage",staffPage:"staffPage",systemSetting:"systemSetting",vip:"vip",allotRoom:"allotRoom",orderReserve:"orderReserve",peopleInfoInput:"peopleInfoInput"}[e]||e)+"."+{admin:"c6f4b0f5",guestList:"1dcc5f06",guestPage:"4ce5af6e",hotelPage:"4b4bbedd",hotelSetting:"e7bd9777",loginPage:"5a7a09f9",notFound:"a876d7ca","orderPage~roomState":"68cc7b2b",orderPage:"fd6798d7",roomState:"2da67a73",reportPage:"4f9c49e1",settingPage:"fc9bca6f",staffPage:"4a7d5c0b",systemSetting:"01cd1af2",vip:"5993d622",allotRoom:"0a6f7e04",orderReserve:"90259e55",peopleInfoInput:"6cb0c083"}[e]+".js"}function d(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,d),o.l=!0,o.exports}d.e=function(e){var t=[],o={admin:1,hotelPage:1,loginPage:1,"orderPage~roomState":1,orderPage:1,roomState:1,allotRoom:1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=new Promise(function(t,o){for(var r="css/"+({admin:"admin",guestList:"guestList",guestPage:"guestPage",hotelPage:"hotelPage",hotelSetting:"hotelSetting",loginPage:"loginPage",notFound:"notFound","orderPage~roomState":"orderPage~roomState",orderPage:"orderPage",roomState:"roomState",reportPage:"reportPage",settingPage:"settingPage",staffPage:"staffPage",systemSetting:"systemSetting",vip:"vip",allotRoom:"allotRoom",orderReserve:"orderReserve",peopleInfoInput:"peopleInfoInput"}[e]||e)+"."+{admin:"8671d581",guestList:"31d6cfe0",guestPage:"31d6cfe0",hotelPage:"8f0df171",hotelSetting:"31d6cfe0",loginPage:"a63d3936",notFound:"31d6cfe0","orderPage~roomState":"2bad9912",orderPage:"e6a28afa",roomState:"3b30ebc3",reportPage:"31d6cfe0",settingPage:"31d6cfe0",staffPage:"31d6cfe0",systemSetting:"31d6cfe0",vip:"31d6cfe0",allotRoom:"6e780067",orderReserve:"31d6cfe0",peopleInfoInput:"31d6cfe0"}[e]+".css",a=d.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===r||u===a))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){c=l[i],u=c.getAttribute("data-href");if(u===r||u===a)return t()}var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.onload=t,g.onerror=function(t){var r=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.request=r,delete n[e],g.parentNode.removeChild(g),o(s)},g.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(g)}).then(function(){n[e]=0}));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise(function(t,o){r=a[e]=[t,o]});t.push(r[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,d.nc&&u.setAttribute("nonce",d.nc),u.src=i(e),c=function(t){u.onerror=u.onload=null,clearTimeout(l);var o=a[e];if(0!==o){if(o){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+r+": "+n+")");s.type=r,s.request=n,o[1](s)}a[e]=void 0}};var l=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},d.m=e,d.c=r,d.d=function(e,t,o){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(d.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)d.d(o,r,function(t){return e[t]}.bind(null,r));return o},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/",d.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var g=u;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var r=o("64a9"),n=o.n(r);n.a},"420d":function(e,t,o){"use strict";o.d(t,"c",function(){return i}),o.d(t,"a",function(){return d}),o.d(t,"b",function(){return c}),o.d(t,"d",function(){return u});var r=o("7f43"),n=o.n(r);const a="/api/roomType",s="/api/roomState/",i=()=>{return n.a.get(a)},d=(e,t)=>{return n.a.request({url:a,data:e,method:t})},c=()=>{return n.a.get(s)},u=(e,t)=>{return n.a.patch(s+e+"?roomState="+t)}},4360:function(e,t,o){"use strict";var r=o("2b0e"),n=o("52c1"),a=o("7ded"),s=o("e069");const i={state:{currUser:{},isLogin:!0,isFirst:0,currHotel:{}},getters:{},mutations:{login(e,t){e.isLogin=!0,e.isFirst+=1,e.currUser=t,e.currHotel=t.currHotel,console.log("state.isFirst:",e.isFirst)},logout(e){e.isLogin=!1,e.isFirst=0,e.currUser={},e.currHotel={}},setIsLogin(e){e.isLogin=!1}},actions:{login(e,t){Object(a["c"])(t).then(t=>{if(0===t.data.code){let o=t.data.data;s["Message"].success("登录成功"),e.commit("login",o)}else s["Message"].error(t.data.code+"："+t.data.msg)})},logout(e){Object(a["d"])().then(t=>{0===t.data.code?(e.commit("logout"),s["Message"].success("退出系统成功")):s["Message"].error(t.data.code+"："+t.data.msg)})},currUser(e){Object(a["b"])().then(t=>{if(0===t.data.code){let o=t.data.data;e.commit("login",o)}else s["Message"].error(t.data.code+"："+t.data.msg)})}}};var d=i,c=o("acb0");const u={state:{dics:[],inout:[],pay_method:[],channel:[]},getters:{codeToText:e=>t=>{return t?e.pay_method.filter(e=>t===e.dicCommonCode)[0].dicCommonName:""},getDicType:e=>t=>{return e.dics.filter(e=>t===e.dicType)}},mutations:{inout(e,t){e.inout=t},pay_method(e,t){e.pay_method=t},channel(e,t){e.channel=t},dics(e,t){e.dics=t}},actions:{loadDic(e,t){Object(c["c"])(t).then(o=>{if(0===o.data.code){let r=o.data.data;e.commit(t,r)}else s["Message"].error(o.data.code+"："+o.data.msg)})},loadAllDic(e){Object(c["c"])(null).then(t=>{if(0===t.data.code){let o=t.data.data;e.commit("dics",o)}else s["Message"].error(t.data.code+"："+t.data.msg)})}}};var l=u,g=o("420d");const p={state:{roomStates:null,roomTypes:null},getters:{getRoomsByType:e=>t=>{return null==t?e.roomStates:e.roomStates.filter(e=>t===e.roomTypeId&&"vacant"===e.roomState)}},mutations:{setRoomStates(e,t){e.roomStates=t},setRoomTypes(e,t){e.roomTypes=t}},actions:{loadRoomStates(e){Object(g["b"])().then(t=>{if(0===t.data.code){let o=t.data.data;e.commit("setRoomStates",o)}else s["Message"].error(t.data.code+"："+t.data.msg)})},loadRoomTypes(e){Object(g["c"])().then(t=>{if(0===t.data.code){let o=t.data.data;e.commit("setRoomTypes",o)}else s["Message"].error(t.data.code+"："+t.data.msg)})}}};var m=p;const f={state:{appHeight:window.innerHeight},getters:{},mutations:{setAppHeight(e,t){e.appHeight=t}},actions:{}};var h=f;r["default"].use(n["a"]);let b=!1;const P=new n["a"].Store({modules:{user:d,dic:l,room:m,webSet:h},strict:b});t["a"]=P},"56d7":function(e,t,o){"use strict";o.r(t);o("3b2b"),o("a481");var r=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},a=[],s=o("be94"),i=(o("4917"),o("52c1")),d={name:"app",data(){return{appHeight:window.innerHeight}},components:{},beforeCreate(){navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(window.location="/m/")},mounted(){var e=this;window.onresize=function(){e.appHeight=window.innerHeight,e.setAppHeight(window.innerHeight)}},methods:Object(s["a"])({},Object(i["d"])({setAppHeight:"setAppHeight"}))},c=d,u=(o("034f"),o("2877")),l=Object(u["a"])(c,n,a,!1,null,null,null),g=l.exports,p=o("e069"),m=o.n(p);o("dcad");r["default"].use(m.a);var f=o("1e6f"),h=[{path:"/admin",component:()=>o.e("admin").then(o.bind(null,"d824"))},{path:"/login/:url",component:()=>o.e("loginPage").then(o.bind(null,"8344")),props:!0},{path:"/",component:()=>o.e("hotelPage").then(o.bind(null,"ab83")),meta:{title:"来客酒店云管家"},children:[{path:"roomState",component:()=>Promise.all([o.e("orderPage~roomState"),o.e("roomState")]).then(o.bind(null,"7bad")),meta:{title:"来客酒店云管家--房态"}},{path:"order",component:()=>Promise.all([o.e("orderPage~roomState"),o.e("orderPage")]).then(o.bind(null,"1938"))},{path:"guest",component:()=>o.e("guestPage").then(o.bind(null,"b8f5")),children:[{path:"guestList",component:()=>o.e("guestList").then(o.bind(null,"f753"))},{path:"vip",component:()=>o.e("vip").then(o.bind(null,"1765"))}]},{path:"report",component:()=>o.e("reportPage").then(o.bind(null,"c33c"))},{path:"setting",component:()=>o.e("settingPage").then(o.bind(null,"aa28")),children:[{path:"hotel",component:()=>o.e("hotelSetting").then(o.bind(null,"1571"))},{path:"system",component:()=>o.e("systemSetting").then(o.bind(null,"2d8d"))},{path:"Staff",component:()=>o.e("staffPage").then(o.bind(null,"ce06"))}]}]},{path:"*",component:()=>o.e("notFound").then(o.bind(null,"7b00"))}];r["default"].use(f["a"]);const b=new f["a"]({routes:h});b.beforeEach((e,t,o)=>{e.meta.title&&(document.title=e.meta.title),o()});var P=b,v=o("4360"),y=o("5834");r["default"].prototype.$Message.config({duration:2.5}),r["default"].config.productionTip=!1,r["default"].prototype.$axios=y["a"],new r["default"]({router:P,store:v["a"],render:e=>e(g)}).$mount("#app"),Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e}},5834:function(e,t,o){"use strict";o("ac6a");var r=o("be94"),n=o("7f43"),a=o.n(n),s=o("4360"),i=o("e069");a.a.interceptors.request.use(e=>{e.params=Object(r["a"])({},e.params,{_t:(new Date).getTime()});let t=e.url;if("get"===e.method&&e.params){t+="?";let o=Object.keys(e.params);for(let r of o)null!==e.params[r]&&""!==e.params[r]&&(t+=`${r}=${encodeURIComponent(e.params[r])}&`);t=t.substring(0,t.length-1),e.params={}}return e.url=t,e},function(e){return Promise.reject(e)}),a.a.interceptors.response.use(function(e){return e},function(e){var t=e.response.status;if(200!=t)switch(t){case 400:console.log("请求错误400"),i["Message"].info("请求错误！");break;case 401:s["a"].commit("setIsLogin"),i["Message"].info("未登录或登录超时，请登录！");break;case 402:i["Message"].info("您的系统已到期，请联系续期");break;case 403:console.log("无权限！"),i["Message"].error("没有权限");break;case 404:console.log("资源不存在"),i["Message"].error("资源不存在！");break;case 500:console.log("服务器内部错误！"),i["Message"].error("服务器内部错误！");break;default:console.log("网络错误 ： "+t),i["Message"].error("网络错误 ： "+t)}return Promise.reject(e)}),t["a"]=a.a},"64a9":function(e,t,o){},"7ded":function(e,t,o){"use strict";o.d(t,"e",function(){return s}),o.d(t,"c",function(){return i}),o.d(t,"d",function(){return d}),o.d(t,"a",function(){return c}),o.d(t,"b",function(){return u});var r=o("7f43"),n=o.n(r);const a="/api",s=e=>{return n.a.post(a+"/register",e)},i=e=>{return n.a.post(a+"/login",e)},d=()=>{return n.a.get(a+"/logout")},c=e=>{return n.a.post(a+"/user/pwd",e)},u=()=>{return n.a.get(a+"/currUser")}},acb0:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"e",function(){return a}),o.d(t,"d",function(){return s}),o.d(t,"a",function(){return i}),o.d(t,"c",function(){return d});var r=o("5834");const n=(e,t)=>{return r["a"].request({url:"/api/dicType",data:e,method:t})},a=e=>{return r["a"].get("/api/dicType",{params:{dicTypeClass:e}})},s=e=>{return r["a"].get("/api/dicCommon",{params:e})},i=(e,t)=>{return r["a"].request({url:"/api/dicCommon",data:e,method:t})},d=e=>{return r["a"].get("/api/dicCommon/"+e)}}});
//# sourceMappingURL=app.765c401b.js.map