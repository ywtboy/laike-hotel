{"version":3,"sources":["webpack:///./src/components/hotel/setting/StaffPage.vue?32f2","webpack:///./src/api/permission.js","webpack:///./src/api/user.js","webpack:///src/components/hotel/setting/StaffPage.vue","webpack:///./src/components/hotel/setting/StaffPage.vue?99d8","webpack:///./src/components/hotel/setting/StaffPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","padding","attrs","span","_v","align","margin-right","type","on","click","$event","staffModal","columns","staffCol","data","staffs","stripe","loading","scopedSlots","_u","key","fn","ref","row","_l","item","index","_s","_f","rolesList","size","width","mask-closable","title","on-visible-change","openOrClose","model","value","callback","$$v","expression","staff","rules","staffRule","prop","placeholder","$set","label","multiple","role","id","roleName","prefix","slot","staffLoad","staffSubmit","staticRenderFns","url","getHotelRoles","axios","get","addUser","user","post","getUsers","StaffPagevue_type_script_lang_js_","name","filters","[object Object]","val","roles","filter","r","parseInt","length","validatePass","rule","Error","userPwd2","$refs","staffForm","validateField","validatePassCheck","userPwd","realName","mobileNum","userSex","required","message","validator","getRoles","getUserList","methods","validate","valid","then","res","code","$Message","secuss","error","msg","setting_StaffPagevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/staffPage.4a7d5c0b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('div',[_c('Row',[_c('Col',{attrs:{\"span\":18}},[_vm._v(\" \")]),_c('Col',{attrs:{\"span\":6,\"align\":\"right\"}},[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"info\"},on:{\"click\":function($event){_vm.staffModal = true;}}},[_vm._v(\"\\n        添加员工\\n      \")])],1)],1)],1),_c('div',[_c('Table',{attrs:{\"columns\":_vm.staffCol,\"data\":_vm.staffs,\"stripe\":\"\",\"loading\":false},scopedSlots:_vm._u([{key:\"role\",fn:function(ref){\nvar row = ref.row;\nreturn _vm._l((row.roles),function(item,index){return _c('a',{key:index},[_vm._v(\"\\n            \"+_vm._s(_vm._f(\"rolesFilter\")(item,_vm.rolesList))+\"\\n        \")])})}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"}},[_vm._v(\"锁定\")])]}}])})],1),_c('Modal',{attrs:{\"width\":\"400\",\"mask-closable\":false,\"title\":\"添加员工\"},on:{\"on-visible-change\":function($event){return _vm.openOrClose($event)}},model:{value:(_vm.staffModal),callback:function ($$v) {_vm.staffModal=$$v},expression:\"staffModal\"}},[_c('Form',{ref:\"staffForm\",attrs:{\"model\":_vm.staff,\"rules\":_vm.staffRule}},[_c('FormItem',{attrs:{\"prop\":\"realName\"}},[_c('Input',{attrs:{\"size\":\"large\",\"placeholder\":\"真实姓名\"},model:{value:(_vm.staff.realName),callback:function ($$v) {_vm.$set(_vm.staff, \"realName\", $$v)},expression:\"staff.realName\"}})],1),_c('FormItem',{attrs:{\"prop\":\"mobileNum\"}},[_c('Input',{attrs:{\"size\":\"large\",\"placeholder\":\"手机号\"},model:{value:(_vm.staff.mobileNum),callback:function ($$v) {_vm.$set(_vm.staff, \"mobileNum\", $$v)},expression:\"staff.mobileNum\"}})],1),_c('FormItem',{attrs:{\"prop\":\"userSex\"}},[_c('RadioGroup',{attrs:{\"size\":\"large\"},model:{value:(_vm.staff.userSex),callback:function ($$v) {_vm.$set(_vm.staff, \"userSex\", $$v)},expression:\"staff.userSex\"}},[_c('Radio',{attrs:{\"label\":\"male\"}},[_vm._v(\"男\")]),_c('Radio',{attrs:{\"label\":\"female\"}},[_vm._v(\"女\")])],1)],1),_c('FormItem',{attrs:{\"prop\":\"roles\"}},[_c('Select',{attrs:{\"multiple\":\"\",\"placeholder\":\"选择权限角色\",\"size\":\"large\"},model:{value:(_vm.staff.roles),callback:function ($$v) {_vm.$set(_vm.staff, \"roles\", $$v)},expression:\"staff.roles\"}},_vm._l((_vm.rolesList),function(item){return _c('Option',{key:item.role,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.roleName))])}),1)],1),_c('FormItem',{attrs:{\"prop\":\"userPwd\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"password\",\"prefix\":\"md-lock\",\"placeholder\":\"请本人输入新密码\"},model:{value:(_vm.staff.userPwd),callback:function ($$v) {_vm.$set(_vm.staff, \"userPwd\", $$v)},expression:\"staff.userPwd\"}})],1),_c('FormItem',{attrs:{\"prop\":\"userPwd2\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"password\",\"prefix\":\"md-lock\",\"placeholder\":\"请再次输入新密码\"},model:{value:(_vm.staff.userPwd2),callback:function ($$v) {_vm.$set(_vm.staff, \"userPwd2\", $$v)},expression:\"staff.userPwd2\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"size\":\"large\"},on:{\"click\":function($event){_vm.staffModal = false;}}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"large\",\"loading\":_vm.staffLoad},on:{\"click\":_vm.staffSubmit}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\"\r\n\r\nconst url = '/api/permission';\r\n\r\n\r\nexport const getHotelRoles = () => {\r\n    return axios.get(url+\"/hotelRole\")\r\n  }","import axios from \"axios\"\r\n\r\nconst url = '/api/user';\r\n\r\nexport const addUser = user => {\r\n    return axios.post(url, user)\r\n}\r\n\r\nexport const getUsers = () => {\r\n    return axios.get(url)\r\n}","<template>\r\n  <div style=\"padding: 10px\">\r\n    <div>\r\n      <Row>\r\n        <Col :span=\"18\">&nbsp;</Col>\r\n        <!-- <Col :span=\"\"></Col> -->\r\n        <Col\r\n          :span=\"6\"\r\n          align=\"right\"\r\n        >\r\n        <Button\r\n          type=\"info\"\r\n          style=\"margin-right: 5px\"\r\n          @click=\"staffModal = true;\"\r\n        >\r\n          添加员工\r\n        </Button>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n    <div>\r\n      <Table\r\n        :columns=\"staffCol\" :data=\"staffs\" stripe :loading=\"false\">\r\n        <template slot-scope=\"{row}\" slot=\"role\">\r\n          <a v-for=\"(item, index) in row.roles\" :key=\"index\">\r\n              {{ item | rolesFilter(rolesList) }}\r\n          </a>\r\n        </template>\r\n        \r\n        <template slot-scope=\"{row}\"slot=\"action\">\r\n          <!-- <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" >修改</Button> -->\r\n          <Button type=\"error\" size=\"small\" >锁定</Button>\r\n        </template>\r\n      </Table>\r\n    </div>\r\n\r\n    <Modal width=\"400\" :mask-closable=\"false\"\r\n      v-model=\"staffModal\" title=\"添加员工\" @on-visible-change=\"openOrClose($event)\">\r\n      <Form ref=\"staffForm\" :model=\"staff\" :rules=\"staffRule\"\r\n      >\r\n        <FormItem  prop=\"realName\">\r\n          <Input v-model=\"staff.realName\" size=\"large\" placeholder=\"真实姓名\" ></Input>\r\n        </FormItem>\r\n        <FormItem  prop=\"mobileNum\">\r\n          <Input v-model=\"staff.mobileNum\" size=\"large\" placeholder=\"手机号\" ></Input>\r\n        </FormItem>\r\n        <FormItem prop=\"userSex\">\r\n            <RadioGroup v-model=\"staff.userSex\" size=\"large\" >\r\n                <Radio label=\"male\">男</Radio>\r\n                <Radio label=\"female\">女</Radio>\r\n              </RadioGroup>\r\n        </FormItem>\r\n        <FormItem   prop=\"roles\" >\r\n          <Select v-model=\"staff.roles\" multiple  placeholder=\"选择权限角色\" size=\"large\">\r\n                <Option v-for=\"item in rolesList\" :value=\"item.id\" :key=\"item.role\">{{ item.roleName }}</Option>\r\n            </Select>\r\n        </FormItem>\r\n        <FormItem  prop=\"userPwd\">\r\n            <Input size=\"large\" type=\"password\" prefix=\"md-lock\" placeholder=\"请本人输入新密码\" \r\n            v-model=\"staff.userPwd\"></Input>\r\n        </FormItem>\r\n        <FormItem  prop=\"userPwd2\">\r\n            <Input size=\"large\" type=\"password\" prefix=\"md-lock\" placeholder=\"请再次输入新密码\" \r\n            v-model=\"staff.userPwd2\"></Input>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button size=\"large\" @click=\"staffModal = false;\">取消</Button>\r\n        <Button type=\"primary\" size=\"large\" :loading=\"staffLoad\" @click=\"staffSubmit\" >确定</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getHotelRoles } from \"@/api/permission.js\";\r\nimport { addUser, getUsers } from \"@/api/user.js\";\r\nexport default {\r\n  name: 'StaffPage',\r\n  filters: {\r\n    rolesFilter(val, roles) {\r\n      let role = roles.filter( r => parseInt(val) == r.id);\r\n      if (role && role.length !== 0 ) {\r\n          return role[0].roleName;\r\n      }\r\n      return \"\";\r\n    }\r\n  },\r\n  data() {\r\n    const validatePass = (rule, value, callback) => {\r\n            if (value === '') {\r\n                callback(new Error('请输入密码'));\r\n            } else {\r\n                if (this.staff.userPwd2 !== '') {\r\n                    // 对第二个密码框单独验证\r\n                    this.$refs.staffForm.validateField('userPwd2');\r\n                }\r\n                callback();\r\n            }\r\n        };\r\n    const validatePassCheck = (rule, value, callback) => {\r\n        if (value === '') {\r\n            callback(new Error('请再次输入密码'));\r\n        } else if (value !== this.staff.userPwd) {\r\n            callback(new Error('两次密码不一样'));\r\n        } else {\r\n            callback();\r\n        }\r\n    };\r\n    return {\r\n        staffs: [],\r\n        staff: {\r\n            realName: '',\r\n            mobileNum: '',\r\n            userSex: '',\r\n            userPwd: '',\r\n            userPwd2: '',\r\n            roles: [],\r\n        },\r\n        staffModal: false,\r\n        rolesList: [],\r\n        staffLoad: false,\r\n        staffRule: {\r\n            realName: [\r\n                { required: true, message: '请输入真实姓名',}\r\n            ],\r\n            mobileNum: [\r\n                { required: true, message: '请输入手机号', },\r\n            ],\r\n            userSex: [\r\n                { required: true, message: '请选择性别', },\r\n            ],\r\n            userPwd: [\r\n                 { validator: validatePass, },\r\n            ],\r\n            userPwd2: [\r\n               { validator: validatePassCheck, },\r\n            ],\r\n            roles: [\r\n                { required: true, message: '请选择角色', },\r\n            ],\r\n        },\r\n        staffCol:[ \r\n            {\r\n            type: 'index',\r\n            title: '序号',\r\n            width: 60\r\n        },\r\n        {\r\n            title: '姓名',\r\n            key: 'realName',\r\n            width: 150\r\n        },\r\n        {\r\n            title: '手机号',\r\n            key: 'mobileNum',\r\n            width: 150\r\n        },\r\n        {\r\n            title: '角色',\r\n            slot: 'role',\r\n            width: 250\r\n        },\r\n        {\r\n            title: '操作',\r\n            slot: 'action',\r\n            // width: 150,\r\n            align: 'center'\r\n        },\r\n        \r\n        ]\r\n    }\r\n  },\r\n  mounted() {\r\n      this.getRoles();\r\n      this.getUserList();\r\n      \r\n  },\r\n  methods: {\r\n    openOrClose(val) {\r\n      if (!val) {\r\n        // this.$emit(\"order-print-close\");\r\n      } else {\r\n        // this.getRoles();\r\n      }\r\n    },\r\n    staffSubmit() {\r\n         this.$refs.staffForm.validate((valid) => {\r\n            if (valid) {\r\n                this.staffLoad = true;\r\n                addUser(this.staff).then(res => {\r\n                    if (res.data.code === 0) {\r\n                        this.staffModal  = false;\r\n                        this.staffLoad = false;\r\n                        this.$Message.secuss('员工添加成功');\r\n                        this.getUserList();\r\n                    } else {\r\n                        this.$Message.error(res.data.code + \"：\" + res.data.msg);\r\n                        this.staffLoad = false;\r\n                    }\r\n                });\r\n            } \r\n        })\r\n       \r\n    },\r\n    getUserList() {\r\n        getUsers().then(res => {\r\n            if (res.data.code === 0) {\r\n                this.staffs = res.data.data;\r\n            } else {\r\n                this.$Message.error(res.data.code + \"：\" + res.data.msg);\r\n            }\r\n        });\r\n    },\r\n    getRoles() {\r\n        getHotelRoles().then(res => {\r\n        if (res.data.code === 0) {\r\n          this.rolesList = res.data.data;\r\n        } else {\r\n          this.$Message.error(res.data.code + \"：\" + res.data.msg);\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaffPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaffPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StaffPage.vue?vue&type=template&id=077a575c&\"\nimport script from \"./StaffPage.vue?vue&type=script&lang=js&\"\nexport * from \"./StaffPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}