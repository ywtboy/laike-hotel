{"version":3,"sources":["webpack:///./src/components/hotel/guest/GuestList.vue?f162","webpack:///./src/api/guest.js","webpack:///src/components/hotel/guest/GuestList.vue","webpack:///./src/components/hotel/guest/GuestList.vue?f6de","webpack:///./src/components/hotel/guest/GuestList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","model","query","inline","prop","clearable","placeholder","value","callback","$$v","$set","expression","type","on","click","$event","page","loadGuests","_v","handleReset","staticClass","stripe","border","size","columns","guestCol","data","guests","on-row-dblclick","handleColDbClick","scopedSlots","_u","key","fn","row","guestSex","span","total","show-total","prev-text","next-text","current","page-size","limit","page-size-opts","pageSizeOpts","show-sizer","update:current","on-change","on-page-size-change","setPageSize","staticRenderFns","url","getGuestOfHotel","axios","get","params","GuestListvue_type_script_lang_js_","name","[object Object]","guestName","guestTel","certificateNo","sortBy","orderBy","title","width","slot","methods","then","res","code","count","$Message","success","error","msg","$refs","resetFields","val","guest_GuestListvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/guestList.1dcc5f06.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('Row',[_c('Form',{ref:\"queryGuestForm\",attrs:{\"model\":_vm.query,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"prop\":\"guestName\"}},[_c('Input',{attrs:{\"clearable\":\"\",\"placeholder\":\"客人姓名\"},model:{value:(_vm.query.guestName),callback:function ($$v) {_vm.$set(_vm.query, \"guestName\", $$v)},expression:\"query.guestName\"}})],1),_c('FormItem',{attrs:{\"prop\":\"guestTel\"}},[_c('Input',{attrs:{\"clearable\":\"\",\"placeholder\":\"手机号码\"},model:{value:(_vm.query.guestTel),callback:function ($$v) {_vm.$set(_vm.query, \"guestTel\", $$v)},expression:\"query.guestTel\"}})],1),_c('FormItem',{attrs:{\"prop\":\"certificateNo\"}},[_c('Input',{attrs:{\"clearable\":\"\",\"placeholder\":\"证件号码\"},model:{value:(_vm.query.certificateNo),callback:function ($$v) {_vm.$set(_vm.query, \"certificateNo\", $$v)},expression:\"query.certificateNo\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){_vm.page.page=1;_vm.loadGuests()}}},[_vm._v(\"查询\")])],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.handleReset('queryGuestForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1),_c('div',[_c('Table',{staticClass:\"laike-hotel-table\",attrs:{\"stripe\":\"\",\"border\":\"\",\"size\":\"small\",\"columns\":_vm.guestCol,\"data\":_vm.guests},on:{\"on-row-dblclick\":_vm.handleColDbClick},scopedSlots:_vm._u([{key:\"guestSex\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.guestSex ==='male')?_c('span',[_vm._v(\"男\")]):(row.guestSex ==='female')?_c('span',[_vm._v(\"女\")]):_c('span',[_vm._v(\"未知\")])]}}])})],1),_c('Row',[_c('Col',{attrs:{\"span\":24}},[_c('Page',{attrs:{\"total\":_vm.page.total,\"show-total\":\"\",\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"current\":_vm.page.page,\"page-size\":_vm.page.limit,\"page-size-opts\":_vm.page.pageSizeOpts,\"show-sizer\":\"\"},on:{\"update:current\":function($event){return _vm.$set(_vm.page, \"page\", $event)},\"on-change\":_vm.loadGuests,\"on-page-size-change\":_vm.setPageSize}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from './axiosConfig'\r\n\r\nlet url = '/api/guest';\r\n\r\nexport const getGuestOfHotel = query => {\r\n    return axios.get(url, { params: query })\r\n  }","<template>\r\n  <div>\r\n    <div>\r\n      <Row>\r\n        <Form\r\n          ref=\"queryGuestForm\"\r\n          :model=\"query\"\r\n          inline\r\n        >\r\n          <FormItem prop=\"guestName\">\r\n            <Input\r\n              v-model=\"query.guestName\"\r\n              clearable\r\n              placeholder=\"客人姓名\"\r\n            />\r\n          </FormItem>\r\n          <FormItem prop=\"guestTel\">\r\n            <Input\r\n              v-model=\"query.guestTel\"\r\n              clearable\r\n              placeholder=\"手机号码\"\r\n            />\r\n          </FormItem>\r\n          <FormItem prop=\"certificateNo\">\r\n            <Input\r\n              v-model=\"query.certificateNo\"\r\n              clearable\r\n              placeholder=\"证件号码\"\r\n            />\r\n          </FormItem>\r\n          <FormItem>\r\n            <Button\r\n              type=\"info\"\r\n              @click=\"page.page=1;loadGuests()\"\r\n            >查询</Button>\r\n          </FormItem>\r\n          <FormItem>\r\n            <Button\r\n              type=\"info\"\r\n              @click=\"handleReset('queryGuestForm')\"\r\n            >重置</Button>\r\n          </FormItem>\r\n        </Form>\r\n      </Row>\r\n    </div>\r\n    <div>\r\n      <Table\r\n        stripe\r\n        border\r\n        size=\"small\"\r\n        class=\"laike-hotel-table\"\r\n        :columns=\"guestCol\"\r\n        :data=\"guests\"\r\n        @on-row-dblclick=\"handleColDbClick\"\r\n      >\r\n        <template\r\n          slot-scope=\"{row}\"\r\n          slot=\"guestSex\"\r\n        >\r\n          <span v-if=\"row.guestSex ==='male'\">男</span>\r\n          <span v-else-if=\"row.guestSex ==='female'\">女</span>\r\n          <span v-else>未知</span>\r\n        </template>\r\n      </Table>\r\n    </div>\r\n    <Row>\r\n      <Col :span=\"24\">\r\n      <Page\r\n        :total=\"page.total\"\r\n        show-total\r\n        prev-text=\"上一页\"\r\n        next-text=\"下一页\"\r\n        :current.sync=\"page.page\"\r\n        :page-size=\"page.limit\"\r\n        :page-size-opts=\"page.pageSizeOpts\"\r\n        @on-change=\"loadGuests\"\r\n        show-sizer\r\n        @on-page-size-change=\"setPageSize\"\r\n      />\r\n      </Col>\r\n    </Row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getGuestOfHotel } from \"@/api/guest.js\";\r\nexport default {\r\n  name: \"GuestList\",\r\n  data() {\r\n    return {\r\n      guests: [],\r\n      query: {\r\n        guestName: null,\r\n        guestTel: null,\r\n        certificateNo: null,\r\n        page: 1,\r\n        limit: 15,\r\n        sortBy: \"gmtCreate\",\r\n        orderBy: \"desc\"\r\n      },\r\n      page: {\r\n        total: 0,\r\n        page: 1,\r\n        limit: 15,\r\n        pageSizeOpts: [5, 10, 15, 20, 30, 40]\r\n      },\r\n      guestCol: [\r\n        {\r\n          title: \"姓名\",\r\n          key: \"guestName\",\r\n          width: 90\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          slot: \"guestSex\",\r\n          width: 90\r\n        },\r\n        {\r\n          title: \"证件号码\",\r\n          key: \"certificateNo\",\r\n          width: 200\r\n        },\r\n        {\r\n          title: \"民族\",\r\n          key: \"guestNation\",\r\n          width: 90\r\n        },\r\n        {\r\n          title: \"手机号\",\r\n          key: \"guestTel\",\r\n          width: 150\r\n        },\r\n        {\r\n          title: \"生日\",\r\n          key: \"guestBirthday\",\r\n          width: 150\r\n        },\r\n        {\r\n          title: \"地址\",\r\n          key: \"guestAddress\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadGuests();\r\n  },\r\n  methods: {\r\n    loadGuests() {\r\n      this.query.page = this.page.page;\r\n      this.query.limit = this.page.limit;\r\n      getGuestOfHotel(this.query).then(res => {\r\n        if (res.data.code === 0) {\r\n          this.guests = res.data.data;\r\n          this.page.total = res.data.count;\r\n          this.$Message.success(\"查询成功\");\r\n        } else {\r\n          this.$Message.error(res.data.code + \"：\" + res.data.msg);\r\n        }\r\n      });\r\n    },\r\n    handleReset(name) {\r\n      this.$refs[name].resetFields();\r\n    },\r\n    handleColDbClick() {},\r\n    setPageSize(val) {\r\n      this.page.limit = val;\r\n      this.loadGuests();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GuestList.vue?vue&type=template&id=672577c9&\"\nimport script from \"./GuestList.vue?vue&type=script&lang=js&\"\nexport * from \"./GuestList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}